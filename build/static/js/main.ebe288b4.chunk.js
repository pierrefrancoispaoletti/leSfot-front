(this["webpackJsonple-soft"]=this["webpackJsonple-soft"]||[]).push([[0],{245:function(e,t,a){},373:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var c=a(0),o=a(75),n=a.n(o),r=(a(245),a(12)),s=a(11),i=a(28),l=a.n(i),d=a(14),u=a(404),j=a(407),b=a(399),p=a(15),O=[{name:"Suggestions du Chef",slug:"suggestions",icon:p.k,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"chocolate","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Pizzas",slug:"pizzas",icon:p.q,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"firebrick","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Salades",slug:"salades",icon:p.r,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"green","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Viandes",slug:"viandes",icon:p.s,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Desserts",slug:"desserts",icon:p.d,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Boissons",slug:"boissons",icon:p.h,innerMenu:[{title:"Tout Voir",categoryName:"",icon:p.f,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Boissons Chaudes",categoryName:"boissons chaudes",icon:p.c,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Vins",categoryName:"vins",icon:p.u,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Softs",categoryName:"softs",icon:p.g,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Ap\xe9ritifs",categoryName:"aperitifs",icon:p.i,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Digestifs",categoryName:"digestifs",icon:p.j,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}}],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"darkred","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Smoothies",slug:"smoothies",icon:p.a,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"red","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Glaces",slug:"glaces",icon:p.m,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"lightyellow","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cocktails",slug:"cocktails",icon:p.b,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"yellow","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Gauffres",slug:"gauffres",icon:p.t,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cr\xeapes",slug:"crepes",icon:p.t,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}}],m=a(25),g=a(114),f=a(406),h=a(409),x=a(105),y=(a(373),a(1)),v=function(e){var t=e.titleColor,a=e.setTitleColor,o=e.textColor,n=e.setTextColor,r=e.backgroundColor,i=e.setBackgroundColor,l=e.productBackgroundColor,d=e.setProductBackgroundColor,u=Object(c.useState)({}),j=Object(s.a)(u,2),O=j[0],v=j[1];return Object(y.jsx)("div",{className:"admincolor",children:Object(y.jsxs)(f.a,{styled:!0,children:[Object(y.jsxs)(f.a.Title,{index:0,active:0===O,onClick:function(e,t){var a=t.index;v(O===a?-1:a)},children:[Object(y.jsx)(m.a,{icon:p.o,size:"3x",style:{"--fa-primary-color":"blue","--fa-secondary-color":"saddlebrown"}}),"Configuration des couleurs"]}),Object(y.jsx)(f.a.Content,{active:0===O,children:Object(y.jsxs)("div",{className:"admin",style:{background:r},children:[Object(y.jsx)(h.a,{as:"h2",style:{color:t},children:"Couleur des titres de Section"}),Object(y.jsx)(g.a,{color:t,onChangeComplete:function(e){return a(e.hex)}}),Object(y.jsx)(b.a,{}),Object(y.jsx)("p",{style:{color:o},children:"Couleur des textes"}),Object(y.jsx)(g.a,{color:o,onChangeComplete:function(e){return n(e.hex)}}),Object(y.jsx)(b.a,{}),Object(y.jsx)("div",{style:{height:50,width:200,background:r,border:"1px solid black"}}),Object(y.jsx)("p",{children:"Couleur du fond"}),Object(y.jsx)(g.a,{color:r,onChangeComplete:function(e){return i(e.hex)}}),Object(y.jsx)(b.a,{}),Object(y.jsx)(h.a,{as:"h3",children:"Changez la Couleur de fond des produits"}),Object(y.jsxs)("div",{className:"product",style:{background:l},children:[Object(y.jsxs)("header",{children:[Object(y.jsxs)("h3",{style:{color:t},children:[" ","Titre",Object(y.jsx)(x.a,{style:{color:o},name:"search"})]}),Object(y.jsxs)("span",{style:{color:t},children:[99999," ",Object(y.jsx)("small",{children:"\u20ac"})]})]}),Object(y.jsxs)("main",{children:[Object(y.jsx)("p",{style:{color:o},children:"lorem ipsum dolor sit amet...."}),Object(y.jsxs)("p",{children:[Object(y.jsx)("strong",{style:{color:t},children:"Allerg\xe8nes :"})," ",Object(y.jsx)("span",{style:{color:o},children:"Arachides"}),Object(y.jsx)("span",{style:{color:o},children:"Fruits \xe0 coques"}),Object(y.jsx)("span",{style:{color:o},children:"Soja"}),Object(y.jsx)("span",{style:{color:o},children:"...."})]})]})]}),Object(y.jsx)(g.a,{color:l,onChangeComplete:function(e){return d(e.hex)}})]})})]})})},C=a(104),k=a(402),S=a(408),M=function(e){var t=e.handleSubmitInfos,a=e.facebookUrl,o=e.setFacebookUrl,n=e.instagramUrl,r=e.setInstagramUrl,i=e.email,l=e.setEmail,d=e.phoneNumber,u=e.setPhoneNumber,j=Object(c.useState)({}),O=Object(s.a)(j,2),g=O[0],h=O[1];return Object(y.jsx)("div",{className:"admincolor",children:Object(y.jsxs)(f.a,{styled:!0,children:[Object(y.jsxs)(f.a.Title,{index:0,active:0===g,onClick:function(e,t){var a=t.index;h(g===a?-1:a)},children:[Object(y.jsx)(m.a,{icon:p.n,size:"3x",style:{"--fa-primary-color":"blue","--fa-secondary-color":"saddlebrown"}}),"Configuration des Liens reseaux sociaux / mails / num\xe9ros de telephone"]}),Object(y.jsx)(f.a.Content,{active:0===g,children:Object(y.jsxs)(k.a,{onSubmit:t,children:[Object(y.jsx)(k.a.Field,{children:Object(y.jsxs)("label",{style:{textAlign:"center"},children:[Object(y.jsx)(m.a,{size:"3x",icon:C.a}),Object(y.jsx)(b.a,{}),Object(y.jsx)("input",{value:a,placeholder:"copiez ici votre addresse facebook",onChange:function(e){return o(e.target.value)}})]})}),Object(y.jsx)(k.a.Field,{children:Object(y.jsxs)("label",{style:{textAlign:"center"},children:[Object(y.jsx)(m.a,{size:"3x",icon:C.b}),Object(y.jsx)(b.a,{}),Object(y.jsx)("input",{value:n,placeholder:"copiez ici votre addresse instagram",onChange:function(e){return r(e.target.value)}})]})}),Object(y.jsx)(k.a.Field,{children:Object(y.jsxs)("label",{style:{textAlign:"center"},children:[Object(y.jsx)(m.a,{size:"3x",icon:p.e}),Object(y.jsx)(b.a,{}),Object(y.jsx)("input",{value:i,placeholder:"copiez ici votre addresse mail",onChange:function(e){return l(e.target.value)}})]})}),Object(y.jsx)(k.a.Field,{children:Object(y.jsxs)("label",{style:{textAlign:"center"},children:[Object(y.jsx)(m.a,{size:"3x",icon:p.p}),Object(y.jsx)(b.a,{}),Object(y.jsx)("input",{value:d,placeholder:"copiez ici votre num\xe9ro de telephone",onChange:function(e){return u(e.target.value)}})]})}),Object(y.jsx)(S.a,{color:"green",type:"submit",inverted:!0,content:"Envoyer"})]})})]})})},P="https://le-soft.herokuapp.com",N=(a(378),function(e){var t=e.setAppMessage,a=e.facebookUrl,o=e.setFacebookUrl,n=e.instagramUrl,s=e.setInstagramUrl,i=e.email,d=e.setEmail,u=e.phoneNumber,j=e.setPhoneNumber,p=e.titleColor,O=e.setTitleColor,m=e.textColor,g=e.setTextColor,f=e.backgroundColor,h=e.setBackgroundColor,x=e.productBackgroundColor,C=e.setProductBackgroundColor,k=e.colorConfig,S=e.setColorConfig;Object(c.useEffect)((function(){var e=localStorage.getItem("token-le-Soft"),t={_id:k._id,titleColor:p,textColor:m,backgroundColor:f,productBackgroundColor:x};S(Object(r.a)({},t)),l()({method:"post",url:"".concat(P,"/api/config/update"),data:{update:t},headers:{Authorization:"Bearer "+e}})}),[p,m,f,x]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(b.a,{}),Object(y.jsx)(v,{titleColor:p,setTitleColor:O,textColor:m,setTextColor:g,backgroundColor:f,setBackgroundColor:h,productBackgroundColor:x,setProductBackgroundColor:C}),Object(y.jsx)(b.a,{}),Object(y.jsx)(M,{handleSubmitInfos:function(e){e.preventDefault();var c=localStorage.getItem("token-le-Soft"),o={_id:k._id,facebookUrl:a,instagramUrl:n,emailAddress:i,phoneNumber:u};S(Object(r.a)(Object(r.a)({},k),o)),l()({method:"post",url:"".concat(P,"/api/config/update"),data:{update:o},headers:{Authorization:"Bearer "+c}}).then((function(e){e&&200===e.data.status&&t({success:!0,message:"Informations modifi\xe9es avec succ\xe9s"})}))},facebookUrl:a,setFacebookUrl:o,instagramUrl:n,setInstagramUrl:s,email:i,setEmail:d,phoneNumber:u,setPhoneNumber:j})]})}),I=a(401),A=a(403),z=(a(379),function(e){var t=e.drinkCat,a=e.products,o=e.setFilteredProducts,n=e.textColor,r=(e.titleColor,e.productBackgroundColor),i=Object(c.useState)(""),l=Object(s.a)(i,2),d=l[0],u=l[1],j=function(e,t){var c=t.name;u(c),o(c?a.filter((function(e){return e.tag.includes(c)})):a)};return Object(c.useEffect)((function(){o(a)}),[a]),Object(y.jsx)(A.a,{icon:"labeled",compact:!0,style:{display:"flex",flexFlow:"row wrap",background:r,justifyContent:"center",alignItems:"center"},children:t[0].innerMenu.map((function(e){return Object(y.jsxs)(A.a.Item,{name:e.categoryName,active:d===e.categoryName,onClick:j,children:[Object(y.jsx)(m.a,{style:e.style,className:"image",size:"3x",icon:e.icon}),Object(y.jsx)("span",{style:{color:n},children:e.title})]},e.categoryName)}))})}),F=(a(380),function(){return Object(y.jsxs)("div",{className:"loader",children:[Object(y.jsx)("span",{children:"L"}),Object(y.jsx)("span",{children:"E"}),Object(y.jsx)("span",{children:"\xa0"}),Object(y.jsx)("span",{children:"S"}),Object(y.jsx)("span",{children:"O"}),Object(y.jsx)("span",{children:"F"}),Object(y.jsx)("span",{children:"T"})]})}),U=function(e){var t=e.visibility,a=e._id,c=e.category,o=e.product,n=e.handleDeleteProduct,r=e.handleChangeVisibility,s=e.setSelectedProduct,i=e.setOpenEditProductModal,l=e.setOpenUpdateImageModal;return Object(y.jsxs)("div",{className:"adminbuttons",children:[Object(y.jsx)(S.a,{circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return n(a,c)}}),Object(y.jsx)(S.a,{circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){s(o),i(!0)}}),Object(y.jsx)(S.a,{circular:!0,icon:t?"hide":"unhide",size:"large",onClick:function(){return r(o)}}),Object(y.jsx)(S.a,{circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){s(o),l(!0)}})]})},w=(a(381),function(e){var t=e.title,a=e.tag,c=e.price,o=e.image,n=e.description,s=e.visibility,i=e.user,l=e.product,d=e.handleDeleteProduct,u=e.handleChangeVisibility,j=e.setSelectedProduct,b=e.setOpenEditProductModal,p=e.setOpenUpdateImageModal,O=e.setOpenImageModal,m=e.titleColor,g=e.textColor,f=e.productBackgroundColor;return Object(y.jsxs)("div",{className:"product",style:{backgroundColor:f},children:[i&&Object(y.jsx)(U,Object(r.a)(Object(r.a)({},l),{},{product:l,handleDeleteProduct:d,handleChangeVisibility:u,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:p})),Object(y.jsxs)("header",{children:[Object(y.jsxs)(h.a,{className:"intitule",as:"h2",style:{color:m},children:[(s?"":"Cach\xe9 : ")+t," ",o&&Object(y.jsx)(x.a,{style:{color:g},onClick:function(){j(l),O(!0)},name:"search"})]}),Object(y.jsxs)("span",{className:"price",style:{color:m},children:[c.toFixed(2)," ",Object(y.jsx)("small",{children:"\u20ac"})]})]}),Object(y.jsxs)("main",{children:[Object(y.jsx)("p",{className:"description",style:{color:g},children:n}),a[1]&&Object(y.jsxs)("p",{className:"allergenes",children:[Object(y.jsx)("strong",{style:{color:m},children:"Allerg\xe8nes :"})," ",a.map((function(e){return Object(y.jsx)("span",{className:"allergene",style:{color:g},children:" ".concat(e," ")},e)}))]})]})]})}),B=(a(382),function(e){var t=e.name,a=e.user,o=e.setOpenAddProductModal,n=e.products,i=e.setProducts,u=e.setOpenLoginModal,j=e.setSelectedProduct,p=e.setOpenEditProductModal,m=e.setOpenUpdateImageModal,g=e.setOpenImageModal,f=e.titleColor,x=e.textColor,v=e.productBackgroundColor,C=Object(d.g)("categorie").categorie,k=Object(c.useState)(!1),M=Object(s.a)(k,2),N=M[0],A=M[1],U=Object(c.useState)([]),B=Object(s.a)(U,2),E=B[0],L=B[1];Object(c.useEffect)((function(){A(!0),l()({method:"get",url:"".concat(P,"/api/products/").concat(C)}).then((function(e){i(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return A(!1)}))}),[C]);var _=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C,a=localStorage.getItem("token-le-Soft");a?(A(!0),l()({method:"delete",url:"".concat(P,"/api/products/deleteProduct"),data:{productId:e,productCategory:t},headers:{Authorization:"Bearer "+a}}).then((function(e){return i(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return A(!1)}))):u(!0)},D=function(e){var t=Object(r.a)({},e);t.visibility=!e.visibility;var a=localStorage.getItem("token-le-Soft");a?(A(!0),l()({method:"post",url:"".concat(P,"/api/products/updateProduct"),data:{update:t,productId:e._id,productCategory:e.category},headers:{Authorization:"Bearer "+a}}).then((function(e){return i(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return A(!1)}))):u(!0)};return Object(y.jsxs)(I.a,{className:"categorie",children:[a&&Object(y.jsx)(S.a,{circular:!0,icon:"add",size:"large",onClick:function(){return o(!0)},color:"green"}),Object(y.jsx)(h.a,{as:"h2",style:{color:f,fontSize:"3em"},children:t}),"boissons"===C&&Object(y.jsx)(z,{products:n,setFilteredProducts:L,textColor:x,titleColor:f,productBackgroundColor:v,drinkCat:O.filter((function(e){return"boissons"===e.slug}))}),Object(y.jsx)(b.a,{}),N&&Object(y.jsx)("div",{className:"loadercontainer",children:Object(y.jsx)(F,{})}),!N&&"boissons"!==C&&(null===n||void 0===n?void 0:n.map((function(e){return Object(y.jsx)(w,Object(r.a)(Object(r.a)({},e),{},{user:a,product:e,handleDeleteProduct:_,handleChangeVisibility:D,setSelectedProduct:j,setOpenEditProductModal:p,setOpenUpdateImageModal:m,setOpenImageModal:g,titleColor:f,textColor:x,productBackgroundColor:v}),e._id)}))),!N&&"boissons"===C&&(null===E||void 0===E?void 0:E.map((function(e){return Object(y.jsx)(w,Object(r.a)(Object(r.a)({},e),{},{user:a,product:e,handleDeleteProduct:_,handleChangeVisibility:D,setSelectedProduct:j,setOpenEditProductModal:p,setOpenUpdateImageModal:m,setOpenImageModal:g,titleColor:f,textColor:x,productBackgroundColor:v}),e._id)})))]})}),E=(a(384),a.p+"static/media/le-soft.a2a08ea0.jpg"),L=function(e){var t=e.titleColor,a=e.textColor,c=e.productBackgroundColor;return Object(y.jsxs)(I.a,{fluid:!0,className:"first",children:[Object(y.jsx)(b.a,{}),Object(y.jsx)(h.a,{as:"h1",style:{color:t},children:"Le Soft Napol\xe9on"}),Object(y.jsx)(b.a,{}),Object(y.jsx)("img",{src:E,alt:"le soft"}),Object(y.jsx)(b.a,{}),Object(y.jsx)(I.a,{style:{color:a,background:c},as:"p",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos quibusdam ipsum ut quia eaque, omnis earum dolore perferendis eligendi quod asperiores quidem? Eveniet, dolorem voluptatibus, cum eius doloribus beatae, veritatis laborum hic possimus quibusdam molestiae reiciendis eos fugiat amet quia?"})]})},_=a(76),D=a(411),T=a(412),V=function(e){var t=e.children,a=e.visible,c=e.setVisible,o=e.setCategorie;return Object(y.jsxs)(D.a.Pushable,{children:[Object(y.jsx)(D.a,{as:A.a,direction:"left",animation:"overlay",icon:"labeled",onHide:function(){return c(!1)},inverted:!0,vertical:!0,visible:a,width:"thin",children:O.map((function(e){return Object(y.jsx)(_.b,{to:"/".concat(e.slug),onClick:function(){return o(e)},children:Object(y.jsxs)(A.a.Item,{children:[Object(y.jsx)(A.a.Header,{children:Object(y.jsx)(m.a,{size:"4x",style:e.style,icon:e.icon})}),e.name]})},e.slug)}))}),Object(y.jsx)(D.a.Pusher,{dimmed:a,children:Object(y.jsx)(T.a,{basic:!0,children:t})})]})},q=(a(385),function(e){var t=e.setVisible,a=e.setOpenLoginModal,c=e.user;return Object(y.jsxs)(I.a,{className:"topappbar",children:[Object(y.jsx)(_.b,{to:"/",children:Object(y.jsx)(h.a,{as:"h1",children:Object(y.jsx)(F,{})})}),Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)(u.a,{animation:"fade",duration:3e3,visible:!!c,children:Object(y.jsx)(_.b,{to:"/le-soft/admin",children:Object(y.jsx)(S.a,{color:"olive",icon:"settings",circular:!0})})}),Object(y.jsx)(S.a,{circular:!0,icon:"user",color:c?"blue":"grey",onClick:function(){return a(!0)}}),Object(y.jsx)(S.a,{onClick:function(){return t(!0)},circular:!0,icon:"bars",color:"teal"})]})]})}),G=(a(386),function(e){var t=e.facebookUrl,a=e.instagramUrl,c=e.email,o=e.phoneNumber;return Object(y.jsxs)("div",{className:"footer",children:[Object(y.jsx)("div",{children:Object(y.jsx)(h.a,{children:"Retrouvez nous sur : "})}),Object(y.jsxs)("div",{className:"footer__icons",children:[Object(y.jsx)("a",{target:"_blank",href:t,rel:"noreferrer",children:Object(y.jsx)(m.a,{size:"3x",icon:C.a,pull:"left"})}),Object(y.jsx)("a",{target:"_blank",href:a,rel:"noreferrer",children:Object(y.jsx)(m.a,{size:"3x",icon:C.b,pull:"right"})})]}),Object(y.jsx)(b.a,{}),Object(y.jsx)("div",{children:Object(y.jsx)(h.a,{children:"Contactez nous ! "})}),Object(y.jsxs)("div",{className:"footer__icons",children:[Object(y.jsx)("a",{href:"mailto:".concat(c),children:Object(y.jsx)(m.a,{size:"3x",icon:p.e,pull:"left"})}),Object(y.jsx)("a",{href:"tel:".concat(o),children:Object(y.jsx)(m.a,{size:"3x",icon:p.p,pull:"right"})})]}),Object(y.jsx)(b.a,{}),Object(y.jsxs)("div",{className:"footer__copyright",children:["Copyright \xa9 ",Object(y.jsx)("a",{href:"https://leSoft.fr",children:" Le Soft Napol\xe9on"})," ",(new Date).getFullYear(),"."]}),Object(y.jsx)("div",{className:"footer__copyright",children:Object(y.jsxs)("a",{color:"inherit",href:"mailto:pef@alvp-developments.com",children:["Made by ALVP-Developments Ajaccio",Object(y.jsx)(m.a,{color:"darkred",icon:p.l,size:"2x"})]})})]})}),R=a(405),H=a(389),J=a(400),Q=[{id:1,name:"arachides",value:"Arachides"},{id:2,name:"fruits \xe0 coque",value:"Fruits \xe0 coque"},{id:3,name:"crustac\xe9s",value:"Crustac\xe9s"},{id:4,name:"gluten",value:"Gluten"},{id:5,name:"oeufs",value:"Oeufs"},{id:6,name:"poissons",value:"Poissons"},{id:7,name:"soja",value:"Soja"},{id:8,name:"lait",value:"Lait"},{id:9,name:"celeri",value:"C\xe9leri"},{id:10,name:"moutarde",value:"Moutarde"},{id:11,name:"sesame",value:"Sesame"},{id:12,name:"lupins",value:"Lupins"},{id:13,name:"mollusques",value:"Mollusques"}],Y=function(e){var t=e.slug,a=e.setOpenAddProductModal,o=e.openAddProductModal,n=e.setOpenLoginModal,i=e.setProducts,d=e.setAppMessage,u=e.drinkCat,j=Object(c.useState)({title:"",description:"",price:"",category:"",image:"",tag:[]}),b=Object(s.a)(j,2),p=b[0],m=b[1],g=Object(c.useState)(!1),f=Object(s.a)(g,2),v=f[0],C=f[1],M=Object(c.useRef)(null);Object(c.useEffect)((function(){m(Object(r.a)(Object(r.a)({},p),{},{category:t})),m(Object(r.a)(Object(r.a)({},p),{},{tag:[]}))}),[t]);var N=function(e){var t={};t[e.target.name]=e.target.value,m(Object(r.a)(Object(r.a)({},p),t))},I=localStorage.getItem("token-le-Soft");return Object(y.jsxs)(R.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:o,size:"small",children:[Object(y.jsxs)(h.a,{icon:!0,children:[Object(y.jsx)(x.a,{name:"add"}),"Ajouter un Produit"]}),Object(y.jsx)(R.a.Content,{children:Object(y.jsxs)(k.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("title",p.title),t.append("description",p.description||""),t.append("price",p.price),t.append("category",p.category),t.append("tag",p.tag),t.append("image",p.image),I?(C(!0),l()({method:"post",url:"".concat(P,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+I}}).then((function(e){i(e.data.data),d({success:200===e.data.status,message:e.data.message})})).then((function(){m({title:"",description:"",price:"",category:"",image:"",tag:[]}),a(!1)})).catch((function(e){return console.log(e)})).finally((function(){C(!1)}))):n(!0)},id:"addProduct-form",children:[Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Nom du Produit"}),Object(y.jsx)("input",{value:p.title,name:"title",type:"text",onChange:function(e){return N(e)}})]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Description"}),Object(y.jsx)("textarea",{value:p.description,name:"description",rows:"5",cols:"33",onChange:function(e){return N(e)}})]}),"boissons"!==t&&Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Allerg\xe8nes"}),Q.map((function(e){var t;return Object(y.jsx)(H.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(){return function(e){var t=p.tag,a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e),m(Object(r.a)(Object(r.a)({},p),{},{tag:t}))}(e.id,e.value)},selected:null===(t=p.tag)||void 0===t?void 0:t.includes(e.value)},e.id)}))]}),"boissons"===t&&Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Type de Boisson"}),u[0].innerMenu.map((function(e){var t;return""!==e.categoryName&&Object(y.jsx)(J.a,{style:{padding:5},label:e.title,name:e.categoryName,value:e.categoryName,onChange:function(){return function(e){var t=p.tag;t=[e],m(Object(r.a)(Object(r.a)({},p),{},{tag:t}))}(e.categoryName)},checked:null===(t=p.tag)||void 0===t?void 0:t.includes(e.categoryName)},e.categoryName)}))]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Prix"}),Object(y.jsx)("input",{min:1,step:.1,value:p.price,name:"price",type:"number",onChange:function(e){return N(e)}})]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Cat\xe9gorie"}),Object(y.jsxs)("select",{value:p.category,name:"category",onChange:function(e){return N(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(y.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),O.map((function(e){return Object(y.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("input",{ref:M,accept:"image/*",id:"addImage",files:p.image,type:"file",hidden:!0,onChange:function(e){return function(e){m(Object(r.a)(Object(r.a)({},p),{},{image:e.target.files[0]}))}(e)}}),Object(y.jsx)(S.a,{type:"button",onClick:function(){return M.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(y.jsxs)(R.a.Actions,{children:[Object(y.jsxs)(S.a,{color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(y.jsx)(x.a,{name:"add"})," Ajouter"]}),Object(y.jsxs)(S.a,{loading:v,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(y.jsx)(x.a,{name:"remove"})," Annuler"]})]})]})},K=function(e){var t=e.setOpenLoginModal,a=e.openLoginModal,o=e.setUser,n=e.setAppMessage,r=Object(c.useState)(""),i=Object(s.a)(r,2),d=i[0],u=i[1],j=Object(c.useState)(""),b=Object(s.a)(j,2),p=b[0],O=b[1],m=Object(c.useState)(!1),g=Object(s.a)(m,2),f=g[0],v=g[1];return Object(y.jsxs)(R.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:a,size:"small",children:[Object(y.jsxs)(h.a,{icon:!0,children:[Object(y.jsx)(x.a,{name:"user"}),"Se Connecter"]}),Object(y.jsx)(R.a.Content,{children:Object(y.jsxs)(k.a,{onSubmit:function(e){e.preventDefault(),v(!0),l()({method:"post",url:"".concat(P,"/auth/login"),data:{email:d,password:p}}).then((function(e){o(e.data.role),n({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-le-Soft",e.data.token),t(!1)})).catch((function(e){n({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){v(!1)}))},id:"auth-form",children:[Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"E-Mail"}),Object(y.jsx)("input",{value:d,type:"email",onChange:function(e){return u(e.target.value)}})]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Mot de passe"}),Object(y.jsx)("input",{type:"password",value:p,onChange:function(e){return O(e.target.value)}})]})]})}),Object(y.jsx)(R.a.Actions,{children:Object(y.jsxs)(S.a,{color:"green",loading:f,type:"submit",form:"auth-form",disabled:0===d.length||0===p.length,inverted:!0,children:[Object(y.jsx)(x.a,{name:"checkmark"})," Connexion"]})})]})},W=function(e){var t=e.product,a=e.setOpenEditProductModal,o=e.openEditProductModal,n=e.setOpenLoginModal,i=e.setAppMessage,d=e.setProducts,u=e.drinkCat,j=t._id,b=t.title,p=t.description,m=t.price,g=t.tag,f=t.category,v=t.image,C=Object(c.useState)({title:b,description:p,price:m,category:f,image:v,tag:g}),M=Object(s.a)(C,2),N=M[0],I=M[1],A=Object(c.useState)(!1),z=Object(s.a)(A,2),F=z[0],U=z[1];Object(c.useEffect)((function(){I(Object(r.a)({},t))}),[t]);var w=function(e){var t={};t[e.target.name]=e.target.value,I(Object(r.a)(Object(r.a)({},N),t))},B=localStorage.getItem("token-le-Soft");return Object(y.jsxs)(R.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:o,size:"small",children:[Object(y.jsxs)(h.a,{icon:!0,children:[Object(y.jsx)(x.a,{name:"edit"}),"\xc9diter ",b]}),Object(y.jsx)(R.a.Content,{children:Object(y.jsxs)(k.a,{onSubmit:function(e){e.preventDefault(),B?(U(!0),l()({method:"post",url:"".concat(P,"/api/products/updateProduct"),data:{update:N,productId:j,productCategory:f},headers:{Authorization:"Bearer "+B}}).then((function(e){d(e.data.data),i({success:200===e.data.status,message:e.data.message})})).catch((function(e){return console.log(e)})).finally((function(){U(!1),a(!1)}))):(a(!1),n(!0))},id:"addProduct-form",children:[Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Nom du Produit"}),Object(y.jsx)("input",{value:N.title,name:"title",type:"text",onChange:function(e){return w(e)}})]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Description"}),Object(y.jsx)("textarea",{value:N.description,name:"description",rows:"5",cols:"33",onChange:function(e){return w(e)}})]}),"boissons"!==t.category&&Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Allerg\xe8nes"}),Q.map((function(e){var a,c;return Object(y.jsx)(H.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(a){return function(e,a){var c=t.tag,o=c.indexOf(e);o>-1?c.splice(o,1):c.push(e),I(Object(r.a)(Object(r.a)({},N),{},{tag:c}))}(e.value)},selected:null===(a=N.tag)||void 0===a?void 0:a.includes(e.value),checked:null===(c=N.tag)||void 0===c?void 0:c.includes(e.value)},e.id)}))]}),"boissons"===t.category&&Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Type de Boisson"}),u[0].innerMenu.map((function(e){var a;return""!==e.categoryName&&Object(y.jsx)(J.a,{style:{padding:5},label:e.title,name:e.categoryName,value:e.categoryName,onChange:function(){return function(e){var a=t.tag;a=[e],I(Object(r.a)(Object(r.a)({},t),{},{tag:a}))}(e.categoryName)},checked:null===(a=N.tag)||void 0===a?void 0:a.includes(e.categoryName)},e.categoryName)}))]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Prix"}),Object(y.jsx)("input",{min:1,step:.1,value:N.price,name:"price",type:"number",onChange:function(e){return w(e)}})]}),Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("label",{children:"Cat\xe9gorie"}),Object(y.jsxs)("select",{value:N.category,name:"category",onChange:function(e){return w(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(y.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),O.map((function(e){return Object(y.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]})]})}),Object(y.jsxs)(R.a.Actions,{children:[Object(y.jsxs)(S.a,{color:"purple",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(y.jsx)(x.a,{name:"edit"})," Editer"]}),Object(y.jsxs)(S.a,{loading:F,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(y.jsx)(x.a,{name:"remove"})," Annuler"]})]})]})},X=function(e){var t,a=e.openImageModal,c=e.setOpenImageModal,o=e.product,n=o.image,r=o.title,s="data:".concat(null===n||void 0===n?void 0:n.contentType,";base64,"),i=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data);return Object(y.jsxs)(R.a,{closeIcon:!0,basic:!0,open:a,onClose:function(){return c(!1)},children:[Object(y.jsx)(h.a,{children:r}),Object(y.jsx)(R.a.Content,{children:Object(y.jsx)("img",{style:{width:"100%"},src:s+i,alt:r})})]})},Z=function(e){var t=e.openUpdateImageModal,a=e.setOpenUpdateImageModal,o=e.product,n=e.setProducts,r=e.setOpenLoginModal,i=e.setAppMessage,d=Object(c.useState)(""),u=Object(s.a)(d,2),j=u[0],b=u[1],p=Object(c.useState)(!1),O=Object(s.a)(p,2),m=O[0],g=O[1],f=Object(c.useRef)(null),v=o._id,C=o.category,M=o.title;return Object(y.jsxs)(R.a,{open:t,onClose:function(){return a(!1)},children:[Object(y.jsxs)(h.a,{icon:!0,children:[Object(y.jsx)(x.a,{name:"image"}),"Editer l'image"]}),Object(y.jsx)(R.a.Content,{children:Object(y.jsx)(k.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",j);var c=localStorage.getItem("token-le-Soft");c?(g(!0),l()({method:"post",url:"".concat(P,"/api/products/updateProductImage/").concat(v,"/").concat(C),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+c}}).then((function(e){e&&200===e.data.status?(n(e.data.data),i(e.data.message)):i(e.data.message)})).catch((function(e){return console.log(e)})).finally((function(){return g(!1)}))):(a(!1),r(!0))},id:"editImage-form",children:Object(y.jsxs)(k.a.Field,{children:[Object(y.jsx)("input",{ref:f,accept:"image/*",id:"addImage",files:j,type:"file",hidden:!0,onChange:function(e){return b(e.target.files[0])}}),Object(y.jsx)(S.a,{type:"button",onClick:function(){return f.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(y.jsxs)(R.a.Actions,{children:[j&&Object(y.jsxs)(S.a,{color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(y.jsx)(x.a,{name:"add"})," Envoyer l'image pour ",M]}),Object(y.jsxs)(S.a,{loading:m,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(y.jsx)(x.a,{name:"remove"})," Annuler"]})]})]})},$=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],n=Object(c.useState)({}),i=Object(s.a)(n,2),p=i[0],m=i[1],g=Object(c.useState)(!1),f=Object(s.a)(g,2),h=f[0],x=f[1],v=Object(c.useState)(!1),C=Object(s.a)(v,2),k=C[0],S=C[1],M=Object(c.useState)(!1),I=Object(s.a)(M,2),A=I[0],z=I[1],U=Object(c.useState)(!1),w=Object(s.a)(U,2),E=w[0],_=w[1],D=Object(c.useState)(!1),T=Object(s.a)(D,2),R=T[0],H=T[1],J=Object(c.useState)(""),Q=Object(s.a)(J,2),$=Q[0],ee=Q[1],te=Object(c.useState)({}),ae=Object(s.a)(te,2),ce=ae[0],oe=ae[1],ne=Object(c.useState)([]),re=Object(s.a)(ne,2),se=re[0],ie=re[1],le=Object(c.useState)({}),de=Object(s.a)(le,2),ue=de[0],je=de[1],be=Object(c.useState)(""),pe=Object(s.a)(be,2),Oe=pe[0],me=pe[1],ge=Object(c.useState)(""),fe=Object(s.a)(ge,2),he=fe[0],xe=fe[1],ye=Object(c.useState)(""),ve=Object(s.a)(ye,2),Ce=ve[0],ke=ve[1],Se=Object(c.useState)(""),Me=Object(s.a)(Se,2),Pe=Me[0],Ne=Me[1],Ie=Object(c.useState)({}),Ae=Object(s.a)(Ie,2),ze=Ae[0],Fe=Ae[1],Ue=Object(c.useState)(!0),we=Object(s.a)(Ue,2),Be=we[0],Ee=we[1],Le=Object(c.useState)(""),_e=Object(s.a)(Le,2),De=_e[0],Te=_e[1],Ve=Object(c.useState)(""),qe=Object(s.a)(Ve,2),Ge=qe[0],Re=qe[1],He=Object(c.useState)(""),Je=Object(s.a)(He,2),Qe=Je[0],Ye=Je[1],Ke=Object(c.useState)(""),We=Object(s.a)(Ke,2),Xe=We[0],Ze=We[1];return Object(c.useEffect)((function(){0!==Object.keys(ce).length&&setTimeout((function(){oe({})}),5e3)}),[ce]),Object(c.useEffect)((function(){Ee(!0),l.a.get("".concat(P,"/api/config")).then((function(e){Fe(e.data.config)})).catch((function(e){return console.log(e)})).finally((function(){return Ee(!1)}))}),[]),Object(c.useEffect)((function(){me(ze.titleColor),xe(ze.textColor),ke(ze.backgroundColor),Ne(ze.productBackgroundColor),Te(ze.facebookUrl),Re(ze.instagramUrl),Ye(ze.emailAddress),Ze(ze.phoneNumber)}),[ze]),Object(y.jsxs)("div",{style:{height:"100%",background:Ce},children:[Be&&Object(y.jsx)("div",{className:"loadercontainer",children:Object(y.jsx)(F,{})}),!Be&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(u.a,{animation:"jiggle",duration:500,visible:Object.keys(ce).length>0,children:Object(y.jsx)(j.a,{style:{position:"fixed",zIndex:"1000",width:"100%"},hidden:0===Object.keys(ce).length,success:!!ce.success,error:!ce.success,children:ce.message})}),Object(y.jsxs)(V,{visible:a,setVisible:o,setCategorie:m,children:[Object(y.jsx)(q,{user:$,setVisible:o,setOpenLoginModal:x}),Object(y.jsx)(K,{openLoginModal:h,setOpenLoginModal:x,setUser:ee,setAppMessage:oe}),Object(y.jsxs)(d.d,{children:[Object(y.jsx)(d.b,{exact:!0,path:"/",children:Object(y.jsx)(L,{user:$,titleColor:Oe,textColor:he,productBackgroundColor:Pe})}),Object(y.jsx)(d.b,{exact:!0,path:"/le-soft/admin/",children:"isAdmin"===$?Object(y.jsx)(N,{setAppMessage:oe,facebookUrl:De,setFacebookUrl:Te,instagramUrl:Ge,setInstagramUrl:Re,email:Qe,setEmail:Ye,phoneNumber:Xe,setPhoneNumber:Ze,titleColor:Oe,setTitleColor:me,textColor:he,setTextColor:xe,backgroundColor:Ce,setBackgroundColor:ke,productBackgroundColor:Pe,setProductBackgroundColor:Ne,colorConfig:ze,setColorConfig:Fe}):Object(y.jsx)(d.a,{to:"/"})}),Object(y.jsxs)(d.b,{path:"/:categorie",children:[Object(y.jsx)(Y,Object(r.a)(Object(r.a)({},p),{},{openAddProductModal:k,setOpenAddProductModal:S,setOpenLoginModal:x,setAppMessage:oe,setProducts:ie,drinkCat:O.filter((function(e){return"boissons"===e.slug}))})),Object(y.jsx)(W,{openEditProductModal:A,setOpenEditProductModal:z,setOpenLoginModal:x,setAppMessage:oe,setProducts:ie,product:ue,drinkCat:O.filter((function(e){return"boissons"===e.slug}))}),Object(y.jsx)(Z,{openUpdateImageModal:E,setOpenUpdateImageModal:_,product:ue,setProducts:ie,setOpenLoginModal:x,setAppMessage:oe}),Object(y.jsx)(X,{setOpenImageModal:H,openImageModal:R,product:ue}),Object(y.jsx)(B,Object(r.a)(Object(r.a)({},p),{},{products:se,user:$,setOpenAddProductModal:S,setOpenEditProductModal:z,setOpenUpdateImageModal:_,setOpenImageModal:H,setOpenLoginModal:x,setProducts:ie,setSelectedProduct:je,titleColor:Oe,textColor:he,productBackgroundColor:Pe}))]})]}),Object(y.jsx)(b.a,{}),Object(y.jsx)(G,{facebookUrl:De,instagramUrl:Ge,email:Qe,phoneNumber:Xe}),Object(y.jsx)(b.a,{})]})]})]})},ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,414)).then((function(t){var a=t.getCLS,c=t.getFID,o=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),o(e),n(e),r(e)}))};a(387);n.a.render(Object(y.jsx)(_.a,{basename:"/",children:Object(y.jsx)($,{})}),document.getElementById("root")),ee()}},[[388,1,2]]]);
//# sourceMappingURL=main.ebe288b4.chunk.js.map