(this["webpackJsonple-soft"]=this["webpackJsonple-soft"]||[]).push([[0],{244:function(e,t,a){},370:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){},380:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var o=a(0),c=a(74),n=a.n(c),r=(a(244),a(11)),i=a(12),s=a(26),l=a.n(s),d=a(13),u=a(401),j=a(403),b=a(24),p=[{name:"Suggestions du Chef",slug:"suggestions",icon:b.j,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"chocolate","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Pizzas",slug:"pizzas",icon:b.l,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"firebrick","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Salades",slug:"salades",icon:b.m,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"green","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Viandes",slug:"viandes",icon:b.n,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Desserts",slug:"desserts",icon:b.d,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Boissons",slug:"boissons",icon:b.g,innerMenu:[{title:"Tout Voir",categoryName:"",icon:b.e,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Boissons Chaudes",categoryName:"boissons chaudes",icon:b.c,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Vins",categoryName:"vins",icon:b.p,style:{"--fa-primary-color":"darkred","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Softs",categoryName:"softs",icon:b.f,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Ap\xe9ritifs",categoryName:"aperitifs",icon:b.h,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{title:"Digestifs",categoryName:"digestifs",icon:b.i,style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}}],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"darkred","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Smoothies",slug:"smoothies",icon:b.a,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"red","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Glaces",slug:"glaces",icon:b.k,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"lightyellow","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cocktails",slug:"cocktails",icon:b.b,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"yellow","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Gauffres",slug:"gauffres",icon:b.o,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cr\xeapes",slug:"crepes",icon:b.o,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}}],O=a(112),g=a(405),f=a(396),m=a(103),h="https://le-soft.herokuapp.com",y=(a(370),a(1)),x=function(e){var t=e.titleColor,a=e.setTitleColor,c=e.textColor,n=e.setTextColor,i=e.backgroundColor,s=e.setBackgroundColor,d=e.productBackgroundColor,u=e.setProductBackgroundColor,j=e.colorConfig,b=e.setColorConfig;return Object(o.useEffect)((function(){var e=localStorage.getItem("token-le-Soft"),a={_id:j._id,titleColor:t,textColor:c,backgroundColor:i,productBackgroundColor:d};b(Object(r.a)({},a)),l()({method:"post",url:"".concat(h,"/api/config/update"),data:{update:a},headers:{Authorization:"Bearer "+e}})}),[t,c,i,d]),Object(y.jsxs)("div",{className:"admin",style:{background:i},children:[Object(y.jsx)(g.a,{as:"h2",style:{color:t},children:"Couleur des titres de Section"}),Object(y.jsx)(O.a,{color:t,onChangeComplete:function(e){return a(e.hex)}}),Object(y.jsx)(f.a,{}),Object(y.jsx)("p",{style:{color:c},children:"Couleur des textes"}),Object(y.jsx)(O.a,{color:c,onChangeComplete:function(e){return n(e.hex)}}),Object(y.jsx)(f.a,{}),Object(y.jsx)("div",{style:{height:50,width:200,background:i,border:"1px solid black"}}),Object(y.jsx)("p",{children:"Couleur du fond"}),Object(y.jsx)(O.a,{color:i,onChangeComplete:function(e){return s(e.hex)}}),Object(y.jsx)(f.a,{}),Object(y.jsx)(g.a,{as:"h3",children:"Changez la Couleur de fond des produits"}),Object(y.jsxs)("div",{className:"product",style:{background:d},children:[Object(y.jsxs)("header",{children:[Object(y.jsxs)("h3",{style:{color:t},children:[" ","Titre",Object(y.jsx)(m.a,{style:{color:c},name:"search"})]}),Object(y.jsxs)("span",{style:{color:t},children:[99999," ",Object(y.jsx)("small",{children:"\u20ac"})]})]}),Object(y.jsxs)("main",{children:[Object(y.jsx)("p",{style:{color:c},children:"lorem ipsum dolor sit amet...."}),Object(y.jsxs)("p",{children:[Object(y.jsx)("strong",{style:{color:t},children:"Allerg\xe8nes :"})," ",Object(y.jsx)("span",{style:{color:c},children:"Arachides"}),Object(y.jsx)("span",{style:{color:c},children:"Fruits \xe0 coques"}),Object(y.jsx)("span",{style:{color:c},children:"Soja"}),Object(y.jsx)("span",{style:{color:c},children:"...."})]})]})]}),Object(y.jsx)(O.a,{color:d,onChangeComplete:function(e){return u(e.hex)}})]})},v=a(397),C=a(404),k=a(142),M=a(400),S=(a(377),function(e){var t=e.drinkCat,a=e.products,c=e.setFilteredProducts,n=e.textColor,r=(e.titleColor,e.productBackgroundColor),s=Object(o.useState)(""),l=Object(i.a)(s,2),d=l[0],u=l[1],j=function(e,t){var o=t.name;u(o),c(o?a.filter((function(e){return e.tag.includes(o)})):a)};return Object(o.useEffect)((function(){c(a)}),[a]),Object(y.jsx)(M.a,{icon:"labeled",compact:!0,style:{display:"flex",flexFlow:"row wrap",background:r,justifyContent:"center",alignItems:"center"},children:t[0].innerMenu.map((function(e){return Object(y.jsxs)(M.a.Item,{name:e.categoryName,active:d===e.categoryName,onClick:j,children:[Object(y.jsx)(k.a,{style:e.style,className:"image",size:"3x",icon:e.icon}),Object(y.jsx)("span",{style:{color:n},children:e.title})]},e.categoryName)}))})}),P=(a(378),function(){return Object(y.jsxs)("div",{className:"loader",children:[Object(y.jsx)("span",{children:"L"}),Object(y.jsx)("span",{children:"E"}),Object(y.jsx)("span",{children:"\xa0"}),Object(y.jsx)("span",{children:"S"}),Object(y.jsx)("span",{children:"O"}),Object(y.jsx)("span",{children:"F"}),Object(y.jsx)("span",{children:"T"})]})}),I=function(e){var t=e.visibility,a=e._id,o=e.category,c=e.product,n=e.handleDeleteProduct,r=e.handleChangeVisibility,i=e.setSelectedProduct,s=e.setOpenEditProductModal,l=e.setOpenUpdateImageModal;return Object(y.jsxs)("div",{className:"adminbuttons",children:[Object(y.jsx)(C.a,{circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return n(a,o)}}),Object(y.jsx)(C.a,{circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){i(c),s(!0)}}),Object(y.jsx)(C.a,{circular:!0,icon:t?"hide":"unhide",size:"large",onClick:function(){return r(c)}}),Object(y.jsx)(C.a,{circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){i(c),l(!0)}})]})},N=(a(379),function(e){var t=e.title,a=e.tag,o=e.price,c=e.image,n=e.description,i=e.visibility,s=e.user,l=e.product,d=e.handleDeleteProduct,u=e.handleChangeVisibility,j=e.setSelectedProduct,b=e.setOpenEditProductModal,p=e.setOpenUpdateImageModal,O=e.setOpenImageModal,f=e.titleColor,h=e.textColor,x=e.productBackgroundColor;return Object(y.jsxs)("div",{className:"product",style:{backgroundColor:x},children:[s&&Object(y.jsx)(I,Object(r.a)(Object(r.a)({},l),{},{product:l,handleDeleteProduct:d,handleChangeVisibility:u,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:p})),Object(y.jsxs)("header",{children:[Object(y.jsxs)(g.a,{className:"intitule",as:"h2",style:{color:f},children:[(i?"":"Cach\xe9 : ")+t," ",c&&Object(y.jsx)(m.a,{style:{color:h},onClick:function(){j(l),O(!0)},name:"search"})]}),Object(y.jsxs)("span",{className:"price",style:{color:f},children:[o.toFixed(2)," ",Object(y.jsx)("small",{children:"\u20ac"})]})]}),Object(y.jsxs)("main",{children:[Object(y.jsx)("p",{className:"description",style:{color:h},children:n}),a[1]&&Object(y.jsxs)("p",{className:"allergenes",children:[Object(y.jsx)("strong",{style:{color:f},children:"Allerg\xe8nes :"})," ",a.map((function(e){return Object(y.jsx)("span",{className:"allergene",style:{color:h},children:" ".concat(e," ")},e)}))]})]})]})}),A=(a(380),function(e){var t=e.name,a=e.user,c=e.setOpenAddProductModal,n=e.products,s=e.setProducts,u=e.setOpenLoginModal,j=e.setSelectedProduct,b=e.setOpenEditProductModal,O=e.setOpenUpdateImageModal,m=e.setOpenImageModal,x=e.titleColor,k=e.textColor,M=e.productBackgroundColor,I=Object(d.g)("categorie").categorie,A=Object(o.useState)(!1),w=Object(i.a)(A,2),F=w[0],B=w[1],E=Object(o.useState)([]),z=Object(i.a)(E,2),L=z[0],D=z[1];Object(o.useEffect)((function(){B(!0),l()({method:"get",url:"".concat(h,"/api/products/").concat(I)}).then((function(e){s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return B(!1)}))}),[I]);var V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,a=localStorage.getItem("token-le-Soft");a?(B(!0),l()({method:"delete",url:"".concat(h,"/api/products/deleteProduct"),data:{productId:e,productCategory:t},headers:{Authorization:"Bearer "+a}}).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return B(!1)}))):u(!0)},U=function(e){var t=Object(r.a)({},e);t.visibility=!e.visibility;var a=localStorage.getItem("token-le-Soft");a?(B(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProduct"),data:{update:t,productId:e._id,productCategory:e.category},headers:{Authorization:"Bearer "+a}}).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return B(!1)}))):u(!0)};return Object(y.jsxs)(v.a,{className:"categorie",children:[a&&Object(y.jsx)(C.a,{circular:!0,icon:"add",size:"large",onClick:function(){return c(!0)},color:"green"}),Object(y.jsx)(g.a,{as:"h2",style:{color:x,fontSize:"3em"},children:t}),"boissons"===I&&Object(y.jsx)(S,{products:n,setFilteredProducts:D,textColor:k,titleColor:x,productBackgroundColor:M,drinkCat:p.filter((function(e){return"boissons"===e.slug}))}),Object(y.jsx)(f.a,{}),F&&Object(y.jsx)("div",{className:"loadercontainer",children:Object(y.jsx)(P,{})}),!F&&"boissons"!==I&&(null===n||void 0===n?void 0:n.map((function(e){return Object(y.jsx)(N,Object(r.a)(Object(r.a)({},e),{},{user:a,product:e,handleDeleteProduct:V,handleChangeVisibility:U,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:O,setOpenImageModal:m,titleColor:x,textColor:k,productBackgroundColor:M}),e._id)}))),!F&&"boissons"===I&&(null===L||void 0===L?void 0:L.map((function(e){return Object(y.jsx)(N,Object(r.a)(Object(r.a)({},e),{},{user:a,product:e,handleDeleteProduct:V,handleChangeVisibility:U,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:O,setOpenImageModal:m,titleColor:x,textColor:k,productBackgroundColor:M}),e._id)})))]})}),w=(a(382),a.p+"static/media/le-soft.a2a08ea0.jpg"),F=function(e){var t=e.titleColor,a=e.textColor,o=e.productBackgroundColor;return Object(y.jsxs)(v.a,{fluid:!0,className:"first",children:[Object(y.jsx)(f.a,{}),Object(y.jsx)(g.a,{as:"h1",style:{color:t},children:"Le Soft Napol\xe9on"}),Object(y.jsx)(f.a,{}),Object(y.jsx)("img",{src:w,alt:"le soft"}),Object(y.jsx)(f.a,{}),Object(y.jsx)(v.a,{style:{color:a,background:o},as:"p",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos quibusdam ipsum ut quia eaque, omnis earum dolore perferendis eligendi quod asperiores quidem? Eveniet, dolorem voluptatibus, cum eius doloribus beatae, veritatis laborum hic possimus quibusdam molestiae reiciendis eos fugiat amet quia?"})]})},B=a(75),E=a(407),z=a(408),L=function(e){var t=e.children,a=e.visible,o=e.setVisible,c=e.setCategorie;return Object(y.jsxs)(E.a.Pushable,{children:[Object(y.jsx)(E.a,{as:M.a,direction:"left",animation:"overlay",icon:"labeled",onHide:function(){return o(!1)},inverted:!0,vertical:!0,visible:a,width:"thin",children:p.map((function(e){return Object(y.jsx)(B.b,{to:"/".concat(e.slug),onClick:function(){return c(e)},children:Object(y.jsxs)(M.a.Item,{children:[Object(y.jsx)(M.a.Header,{children:Object(y.jsx)(k.a,{size:"4x",style:e.style,icon:e.icon})}),e.name]})},e.slug)}))}),Object(y.jsx)(E.a.Pusher,{dimmed:a,children:Object(y.jsx)(z.a,{basic:!0,children:t})})]})},D=(a(383),function(e){var t=e.setVisible,a=e.setOpenLoginModal,o=e.user;return Object(y.jsxs)(v.a,{className:"topappbar",children:[Object(y.jsx)(B.b,{to:"/",children:Object(y.jsx)(g.a,{as:"h1",children:Object(y.jsx)(P,{})})}),Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)(u.a,{animation:"fade",duration:3e3,visible:!!o,children:Object(y.jsx)(B.b,{to:"/le-soft/admin",children:Object(y.jsx)(C.a,{color:"olive",icon:"settings",circular:!0})})}),Object(y.jsx)(C.a,{circular:!0,icon:"user",color:o?"blue":"grey",onClick:function(){return a(!0)}}),Object(y.jsx)(C.a,{onClick:function(){return t(!0)},circular:!0,icon:"bars",color:"teal"})]})]})}),V=a(402),U=a(399),T=a(386),q=a(398),_=[{id:1,name:"arachides",value:"Arachides"},{id:2,name:"fruits \xe0 coque",value:"Fruits \xe0 coque"},{id:3,name:"crustac\xe9s",value:"Crustac\xe9s"},{id:4,name:"gluten",value:"Gluten"},{id:5,name:"oeufs",value:"Oeufs"},{id:6,name:"poissons",value:"Poissons"},{id:7,name:"soja",value:"Soja"},{id:8,name:"lait",value:"Lait"},{id:9,name:"celeri",value:"C\xe9leri"},{id:10,name:"moutarde",value:"Moutarde"},{id:11,name:"sesame",value:"Sesame"},{id:12,name:"lupins",value:"Lupins"},{id:13,name:"mollusques",value:"Mollusques"}],G=function(e){var t=e.slug,a=e.setOpenAddProductModal,c=e.openAddProductModal,n=e.setOpenLoginModal,s=e.setProducts,d=e.setAppMessage,u=e.drinkCat,j=Object(o.useState)({title:"",description:"",price:"",category:"",image:"",tag:[]}),b=Object(i.a)(j,2),O=b[0],f=b[1],x=Object(o.useState)(!1),v=Object(i.a)(x,2),k=v[0],M=v[1],S=Object(o.useRef)(null);Object(o.useEffect)((function(){f(Object(r.a)(Object(r.a)({},O),{},{category:t})),f(Object(r.a)(Object(r.a)({},O),{},{tag:[]}))}),[t]);var P=function(e){var t={};t[e.target.name]=e.target.value,f(Object(r.a)(Object(r.a)({},O),t))},I=localStorage.getItem("token-le-Soft");return Object(y.jsxs)(V.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:c,size:"small",children:[Object(y.jsxs)(g.a,{icon:!0,children:[Object(y.jsx)(m.a,{name:"add"}),"Ajouter un Produit"]}),Object(y.jsx)(V.a.Content,{children:Object(y.jsxs)(U.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("title",O.title),t.append("description",O.description||""),t.append("price",O.price),t.append("category",O.category),t.append("tag",O.tag),t.append("image",O.image),I?(M(!0),l()({method:"post",url:"".concat(h,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+I}}).then((function(e){s(e.data.data),d({success:200===e.data.status,message:e.data.message})})).then((function(){f({title:"",description:"",price:"",category:"",image:"",tag:[]}),a(!1)})).catch((function(e){return console.log(e)})).finally((function(){M(!1)}))):n(!0)},id:"addProduct-form",children:[Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Nom du Produit"}),Object(y.jsx)("input",{value:O.title,name:"title",type:"text",onChange:function(e){return P(e)}})]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Description"}),Object(y.jsx)("textarea",{value:O.description,name:"description",rows:"5",cols:"33",onChange:function(e){return P(e)}})]}),"boissons"!==t&&Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Allerg\xe8nes"}),_.map((function(e){var t;return Object(y.jsx)(T.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(){return function(e){var t=O.tag,a=t.indexOf(e);a>-1?t.splice(a,1):t.push(e),f(Object(r.a)(Object(r.a)({},O),{},{tag:t}))}(e.id,e.value)},selected:null===(t=O.tag)||void 0===t?void 0:t.includes(e.value)},e.id)}))]}),"boissons"===t&&Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Type de Boisson"}),u[0].innerMenu.map((function(e){var t;return""!==e.categoryName&&Object(y.jsx)(q.a,{style:{padding:5},label:e.title,name:e.categoryName,value:e.categoryName,onChange:function(){return function(e){var t=O.tag;t=[e],f(Object(r.a)(Object(r.a)({},O),{},{tag:t}))}(e.categoryName)},checked:null===(t=O.tag)||void 0===t?void 0:t.includes(e.categoryName)},e.categoryName)}))]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Prix"}),Object(y.jsx)("input",{min:1,step:.1,value:O.price,name:"price",type:"number",onChange:function(e){return P(e)}})]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Cat\xe9gorie"}),Object(y.jsxs)("select",{value:O.category,name:"category",onChange:function(e){return P(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(y.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),p.map((function(e){return Object(y.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("input",{ref:S,accept:"image/*",id:"addImage",files:O.image,type:"file",hidden:!0,onChange:function(e){return function(e){f(Object(r.a)(Object(r.a)({},O),{},{image:e.target.files[0]}))}(e)}}),Object(y.jsx)(C.a,{type:"button",onClick:function(){return S.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(y.jsxs)(V.a.Actions,{children:[Object(y.jsxs)(C.a,{color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(y.jsx)(m.a,{name:"add"})," Ajouter"]}),Object(y.jsxs)(C.a,{loading:k,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(y.jsx)(m.a,{name:"remove"})," Annuler"]})]})]})},H=function(e){var t=e.setOpenLoginModal,a=e.openLoginModal,c=e.setUser,n=e.setAppMessage,r=Object(o.useState)(""),s=Object(i.a)(r,2),d=s[0],u=s[1],j=Object(o.useState)(""),b=Object(i.a)(j,2),p=b[0],O=b[1],f=Object(o.useState)(!1),x=Object(i.a)(f,2),v=x[0],k=x[1];return Object(y.jsxs)(V.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:a,size:"small",children:[Object(y.jsxs)(g.a,{icon:!0,children:[Object(y.jsx)(m.a,{name:"user"}),"Se Connecter"]}),Object(y.jsx)(V.a.Content,{children:Object(y.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),k(!0),l()({method:"post",url:"".concat(h,"/auth/login"),data:{email:d,password:p}}).then((function(e){c(e.data.role),n({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-le-Soft",e.data.token),t(!1)})).catch((function(e){n({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){k(!1)}))},id:"auth-form",children:[Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"E-Mail"}),Object(y.jsx)("input",{value:d,type:"email",onChange:function(e){return u(e.target.value)}})]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Mot de passe"}),Object(y.jsx)("input",{type:"password",value:p,onChange:function(e){return O(e.target.value)}})]})]})}),Object(y.jsx)(V.a.Actions,{children:Object(y.jsxs)(C.a,{color:"green",loading:v,type:"submit",form:"auth-form",disabled:0===d.length||0===p.length,inverted:!0,children:[Object(y.jsx)(m.a,{name:"checkmark"})," Connexion"]})})]})},J=function(e){var t=e.product,a=e.setOpenEditProductModal,c=e.openEditProductModal,n=e.setOpenLoginModal,s=e.setAppMessage,d=e.setProducts,u=e.drinkCat,j=t._id,b=t.title,O=t.description,f=t.price,x=t.tag,v=t.category,k=t.image,M=Object(o.useState)({title:b,description:O,price:f,category:v,image:k,tag:x}),S=Object(i.a)(M,2),P=S[0],I=S[1],N=Object(o.useState)(!1),A=Object(i.a)(N,2),w=A[0],F=A[1];Object(o.useEffect)((function(){I(Object(r.a)({},t))}),[t]);var B=function(e){var t={};t[e.target.name]=e.target.value,I(Object(r.a)(Object(r.a)({},P),t))},E=localStorage.getItem("token-le-Soft");return Object(y.jsxs)(V.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:c,size:"small",children:[Object(y.jsxs)(g.a,{icon:!0,children:[Object(y.jsx)(m.a,{name:"edit"}),"\xc9diter ",b]}),Object(y.jsx)(V.a.Content,{children:Object(y.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),E?(F(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProduct"),data:{update:P,productId:j,productCategory:v},headers:{Authorization:"Bearer "+E}}).then((function(e){d(e.data.data),s({success:200===e.data.status,message:e.data.message})})).catch((function(e){return console.log(e)})).finally((function(){F(!1),a(!1)}))):(a(!1),n(!0))},id:"addProduct-form",children:[Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Nom du Produit"}),Object(y.jsx)("input",{value:P.title,name:"title",type:"text",onChange:function(e){return B(e)}})]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Description"}),Object(y.jsx)("textarea",{value:P.description,name:"description",rows:"5",cols:"33",onChange:function(e){return B(e)}})]}),"boissons"!==t.category&&Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Allerg\xe8nes"}),_.map((function(e){var a,o;return Object(y.jsx)(T.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(a){return function(e,a){var o=t.tag,c=o.indexOf(e);c>-1?o.splice(c,1):o.push(e),I(Object(r.a)(Object(r.a)({},P),{},{tag:o}))}(e.value)},selected:null===(a=P.tag)||void 0===a?void 0:a.includes(e.value),checked:null===(o=P.tag)||void 0===o?void 0:o.includes(e.value)},e.id)}))]}),"boissons"===t.category&&Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Type de Boisson"}),u[0].innerMenu.map((function(e){var a;return""!==e.categoryName&&Object(y.jsx)(q.a,{style:{padding:5},label:e.title,name:e.categoryName,value:e.categoryName,onChange:function(){return function(e){var a=t.tag;a=[e],I(Object(r.a)(Object(r.a)({},t),{},{tag:a}))}(e.categoryName)},checked:null===(a=P.tag)||void 0===a?void 0:a.includes(e.categoryName)},e.categoryName)}))]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Prix"}),Object(y.jsx)("input",{min:1,step:.1,value:P.price,name:"price",type:"number",onChange:function(e){return B(e)}})]}),Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("label",{children:"Cat\xe9gorie"}),Object(y.jsxs)("select",{value:P.category,name:"category",onChange:function(e){return B(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(y.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),p.map((function(e){return Object(y.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]})]})}),Object(y.jsxs)(V.a.Actions,{children:[Object(y.jsxs)(C.a,{color:"purple",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(y.jsx)(m.a,{name:"edit"})," Editer"]}),Object(y.jsxs)(C.a,{loading:w,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(y.jsx)(m.a,{name:"remove"})," Annuler"]})]})]})},R=function(e){var t,a=e.openImageModal,o=e.setOpenImageModal,c=e.product,n=c.image,r=c.title,i="data:".concat(null===n||void 0===n?void 0:n.contentType,";base64,"),s=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data);return Object(y.jsxs)(V.a,{closeIcon:!0,basic:!0,open:a,onClose:function(){return o(!1)},children:[Object(y.jsx)(g.a,{children:r}),Object(y.jsx)(V.a.Content,{children:Object(y.jsx)("img",{style:{width:"100%"},src:i+s,alt:r})})]})},Q=function(e){var t=e.openUpdateImageModal,a=e.setOpenUpdateImageModal,c=e.product,n=e.setProducts,r=e.setOpenLoginModal,s=e.setAppMessage,d=Object(o.useState)(""),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(o.useState)(!1),O=Object(i.a)(p,2),f=O[0],x=O[1],v=Object(o.useRef)(null),k=c._id,M=c.category,S=c.title;return Object(y.jsxs)(V.a,{open:t,onClose:function(){return a(!1)},children:[Object(y.jsxs)(g.a,{icon:!0,children:[Object(y.jsx)(m.a,{name:"image"}),"Editer l'image"]}),Object(y.jsx)(V.a.Content,{children:Object(y.jsx)(U.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",j);var o=localStorage.getItem("token-le-Soft");o?(x(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProductImage/").concat(k,"/").concat(M),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+o}}).then((function(e){e&&200===e.data.status?(n(e.data.data),s(e.data.message)):s(e.data.message)})).catch((function(e){return console.log(e)})).finally((function(){return x(!1)}))):(a(!1),r(!0))},id:"editImage-form",children:Object(y.jsxs)(U.a.Field,{children:[Object(y.jsx)("input",{ref:v,accept:"image/*",id:"addImage",files:j,type:"file",hidden:!0,onChange:function(e){return b(e.target.files[0])}}),Object(y.jsx)(C.a,{type:"button",onClick:function(){return v.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(y.jsxs)(V.a.Actions,{children:[j&&Object(y.jsxs)(C.a,{color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(y.jsx)(m.a,{name:"add"})," Envoyer l'image pour ",S]}),Object(y.jsxs)(C.a,{loading:f,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(y.jsx)(m.a,{name:"remove"})," Annuler"]})]})]})},K=function(){var e=Object(o.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],n=Object(o.useState)({}),s=Object(i.a)(n,2),b=s[0],O=s[1],g=Object(o.useState)(!1),f=Object(i.a)(g,2),m=f[0],v=f[1],C=Object(o.useState)(!1),k=Object(i.a)(C,2),M=k[0],S=k[1],I=Object(o.useState)(!1),N=Object(i.a)(I,2),w=N[0],B=N[1],E=Object(o.useState)(!1),z=Object(i.a)(E,2),V=z[0],U=z[1],T=Object(o.useState)(!1),q=Object(i.a)(T,2),_=q[0],K=q[1],W=Object(o.useState)(""),X=Object(i.a)(W,2),Y=X[0],Z=X[1],$=Object(o.useState)({}),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],oe=Object(o.useState)([]),ce=Object(i.a)(oe,2),ne=ce[0],re=ce[1],ie=Object(o.useState)({}),se=Object(i.a)(ie,2),le=se[0],de=se[1],ue=Object(o.useState)(""),je=Object(i.a)(ue,2),be=je[0],pe=je[1],Oe=Object(o.useState)(""),ge=Object(i.a)(Oe,2),fe=ge[0],me=ge[1],he=Object(o.useState)(""),ye=Object(i.a)(he,2),xe=ye[0],ve=ye[1],Ce=Object(o.useState)(""),ke=Object(i.a)(Ce,2),Me=ke[0],Se=ke[1],Pe=Object(o.useState)({}),Ie=Object(i.a)(Pe,2),Ne=Ie[0],Ae=Ie[1],we=Object(o.useState)(!0),Fe=Object(i.a)(we,2),Be=Fe[0],Ee=Fe[1];return Object(o.useEffect)((function(){0!==Object.keys(te).length&&setTimeout((function(){ae({})}),5e3)}),[te]),console.log(ne),Object(o.useEffect)((function(){Ee(!0),l.a.get("".concat(h,"/api/config")).then((function(e){Ae(e.data.config)})).catch((function(e){return console.log(e)})).finally((function(){return Ee(!1)}))}),[]),Object(o.useEffect)((function(){pe(Ne.titleColor),me(Ne.textColor),ve(Ne.backgroundColor),Se(Ne.productBackgroundColor)}),[Ne]),Object(y.jsxs)("div",{style:{height:"100%",background:xe},children:[Be&&Object(y.jsx)("div",{className:"loadercontainer",children:Object(y.jsx)(P,{})}),!Be&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(u.a,{animation:"jiggle",duration:500,visible:Object.keys(te).length>0,children:Object(y.jsx)(j.a,{hidden:0===Object.keys(te).length,success:!!te.success,error:!te.success,children:te.message})}),Object(y.jsxs)(L,{visible:a,setVisible:c,setCategorie:O,children:[Object(y.jsx)(D,{user:Y,setVisible:c,setOpenLoginModal:v}),Object(y.jsx)(H,{openLoginModal:m,setOpenLoginModal:v,setUser:Z,setAppMessage:ae}),Object(y.jsxs)(d.d,{children:[Object(y.jsx)(d.b,{exact:!0,path:"/",children:Object(y.jsx)(F,{user:Y,titleColor:be,textColor:fe,productBackgroundColor:Me})}),Object(y.jsx)(d.b,{exact:!0,path:"/le-soft/admin",children:"isAdmin"===Y?Object(y.jsx)(x,{titleColor:be,setTitleColor:pe,textColor:fe,setTextColor:me,backgroundColor:xe,setBackgroundColor:ve,productBackgroundColor:Me,setProductBackgroundColor:Se,colorConfig:Ne,setColorConfig:Ae}):Object(y.jsx)(d.a,{to:"/"})}),Object(y.jsxs)(d.b,{path:"/:categorie",children:[Object(y.jsx)(G,Object(r.a)(Object(r.a)({},b),{},{openAddProductModal:M,setOpenAddProductModal:S,setOpenLoginModal:v,setAppMessage:ae,setProducts:re,drinkCat:p.filter((function(e){return"boissons"===e.slug}))})),Object(y.jsx)(J,{openEditProductModal:w,setOpenEditProductModal:B,setOpenLoginModal:v,setAppMessage:ae,setProducts:re,product:le,drinkCat:p.filter((function(e){return"boissons"===e.slug}))}),Object(y.jsx)(Q,{openUpdateImageModal:V,setOpenUpdateImageModal:U,product:le,setProducts:re,setOpenLoginModal:v,setAppMessage:ae}),Object(y.jsx)(R,{setOpenImageModal:K,openImageModal:_,product:le}),Object(y.jsx)(A,Object(r.a)(Object(r.a)({},b),{},{products:ne,user:Y,setOpenAddProductModal:S,setOpenEditProductModal:B,setOpenUpdateImageModal:U,setOpenImageModal:K,setOpenLoginModal:v,setProducts:re,setSelectedProduct:de,titleColor:be,textColor:fe,productBackgroundColor:Me}))]})]})]})]})]})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,410)).then((function(t){var a=t.getCLS,o=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),o(e),c(e),n(e),r(e)}))};a(384);n.a.render(Object(y.jsx)(B.a,{basename:"/",children:Object(y.jsx)(K,{})}),document.getElementById("root")),W()}},[[385,1,2]]]);
//# sourceMappingURL=main.bcea2c85.chunk.js.map