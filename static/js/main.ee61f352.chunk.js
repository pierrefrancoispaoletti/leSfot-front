(this["webpackJsonple-soft"]=this["webpackJsonple-soft"]||[]).push([[0],{244:function(e,t,c){},370:function(e,t,c){},375:function(e,t,c){},376:function(e,t,c){},377:function(e,t,c){},379:function(e,t,c){},382:function(e,t,c){},384:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(74),o=c.n(n),r=(c(244),c(12)),i=c(11),s=c(25),l=c.n(s),d=c(13),u=c(398),j=c(400),b=c(111),p=c(402),O=c(394),g=c(103),h="https://le-soft.herokuapp.com/",m=(c(370),c(1)),f=function(e){var t=e.titleColor,c=e.setTitleColor,n=e.textColor,o=e.setTextColor,i=e.backgroundColor,s=e.setBackgroundColor,d=e.productBackgroundColor,u=e.setProductBackgroundColor,j=e.colorConfig,f=e.setColorConfig;return Object(a.useEffect)((function(){var e=localStorage.getItem("token-le-Soft"),c={_id:j._id,titleColor:t,textColor:n,backgroundColor:i,productBackgroundColor:d};f(Object(r.a)({},c)),l()({method:"post",url:"".concat(h,"/api/config/update"),data:{update:c},headers:{Authorization:"Bearer "+e}})}),[t,n,i,d]),Object(m.jsxs)("div",{className:"admin",style:{background:i},children:[Object(m.jsx)(p.a,{as:"h2",style:{color:t},children:"Couleur des titres de Section"}),Object(m.jsx)(b.a,{color:t,onChangeComplete:function(e){return c(e.hex)}}),Object(m.jsx)(O.a,{}),Object(m.jsx)("p",{style:{color:n},children:"Couleur des textes"}),Object(m.jsx)(b.a,{color:n,onChangeComplete:function(e){return o(e.hex)}}),Object(m.jsx)(O.a,{}),Object(m.jsx)("div",{style:{height:50,width:200,background:i,border:"1px solid black"}}),Object(m.jsx)("p",{children:"Couleur du fond"}),Object(m.jsx)(b.a,{color:i,onChangeComplete:function(e){return s(e.hex)}}),Object(m.jsx)(O.a,{}),Object(m.jsx)(p.a,{as:"h3",children:"Changez la Couleur de fond des produits"}),Object(m.jsxs)("div",{className:"product",style:{background:d},children:[Object(m.jsxs)("header",{children:[Object(m.jsxs)("h3",{style:{color:t},children:[" ","Titre",Object(m.jsx)(g.a,{style:{color:n},name:"search"})]}),Object(m.jsxs)("span",{style:{color:t},children:[99999," ",Object(m.jsx)("small",{children:"\u20ac"})]})]}),Object(m.jsxs)("main",{children:[Object(m.jsx)("p",{style:{color:n},children:"lorem ipsum dolor sit amet...."}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{style:{color:t},children:"Allerg\xe8nes :"})," ",Object(m.jsx)("span",{style:{color:n},children:"Arachides"}),Object(m.jsx)("span",{style:{color:n},children:"Fruits \xe0 coques"}),Object(m.jsx)("span",{style:{color:n},children:"Soja"}),Object(m.jsx)("span",{style:{color:n},children:"...."})]})]})]}),Object(m.jsx)(b.a,{color:d,onChangeComplete:function(e){return u(e.hex)}})]})},x=c(395),y=c(401),v=(c(375),function(){return Object(m.jsxs)("div",{className:"loader",children:[Object(m.jsx)("span",{children:"L"}),Object(m.jsx)("span",{children:"E"}),Object(m.jsx)("span",{children:"\xa0"}),Object(m.jsx)("span",{children:"S"}),Object(m.jsx)("span",{children:"O"}),Object(m.jsx)("span",{children:"F"}),Object(m.jsx)("span",{children:"T"})]})}),C=function(e){var t=e.visibility,c=e._id,a=e.category,n=e.product,o=e.handleDeleteProduct,r=e.handleChangeVisibility,i=e.setSelectedProduct,s=e.setOpenEditProductModal,l=e.setOpenUpdateImageModal;return Object(m.jsxs)("div",{className:"adminbuttons",children:[Object(m.jsx)(y.a,{circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return o(c,a)}}),Object(m.jsx)(y.a,{circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){i(n),s(!0)}}),Object(m.jsx)(y.a,{circular:!0,icon:t?"hide":"unhide",size:"large",onClick:function(){return r(n)}}),Object(m.jsx)(y.a,{circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){i(n),l(!0)}})]})},M=(c(376),function(e){var t=e.title,c=e.tag,a=e.price,n=e.image,o=e.description,i=e.visibility,s=e.user,l=e.product,d=e.handleDeleteProduct,u=e.handleChangeVisibility,j=e.setSelectedProduct,b=e.setOpenEditProductModal,O=e.setOpenUpdateImageModal,h=e.setOpenImageModal,f=e.titleColor,x=e.textColor,y=e.productBackgroundColor;return Object(m.jsxs)("div",{className:"product",style:{backgroundColor:y},children:[s&&Object(m.jsx)(C,Object(r.a)(Object(r.a)({},l),{},{product:l,handleDeleteProduct:d,handleChangeVisibility:u,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:O})),Object(m.jsxs)("header",{children:[Object(m.jsxs)(p.a,{className:"intitule",as:"h2",style:{color:f},children:[(i?"":"Cach\xe9 : ")+t," ",n&&Object(m.jsx)(g.a,{style:{color:x},onClick:function(){j(l),h(!0)},name:"search"})]}),Object(m.jsxs)("span",{className:"price",style:{color:f},children:[a.toFixed(2)," ",Object(m.jsx)("small",{children:"\u20ac"})]})]}),Object(m.jsxs)("main",{children:[Object(m.jsx)("p",{className:"description",style:{color:x},children:o}),c[1]&&Object(m.jsxs)("p",{className:"allergenes",children:[Object(m.jsx)("strong",{style:{color:f},children:"Allerg\xe8nes :"})," ",c.map((function(e){return Object(m.jsx)("span",{className:"allergene",style:{color:x},children:" ".concat(e," ")},e)}))]})]})]})}),k=(c(377),function(e){var t=e.name,c=e.user,n=e.setOpenAddProductModal,o=e.products,s=e.setProducts,u=e.setOpenLoginModal,j=e.setSelectedProduct,b=e.setOpenEditProductModal,O=e.setOpenUpdateImageModal,g=e.setOpenImageModal,f=e.titleColor,C=e.textColor,k=e.productBackgroundColor,S=Object(d.g)("categorie").categorie,P=Object(a.useState)(!1),A=Object(i.a)(P,2),I=A[0],E=A[1];Object(a.useEffect)((function(){E(!0),l()({method:"get",url:"".concat(h,"/api/products/").concat(S)}).then((function(e){s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return E(!1)}))}),[S]);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,c=localStorage.getItem("token-le-Soft");c?(E(!0),l()({method:"delete",url:"".concat(h,"/api/products/deleteProduct"),data:{productId:e,productCategory:t},headers:{Authorization:"Bearer "+c}}).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return E(!1)}))):u(!0)},B=function(e){var t=Object(r.a)({},e);t.visibility=!e.visibility;var c=localStorage.getItem("token-le-Soft");c?(E(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProduct"),data:{update:t,productId:e._id,productCategory:e.category},headers:{Authorization:"Bearer "+c}}).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return E(!1)}))):u(!0)};return Object(m.jsxs)(x.a,{className:"categorie",children:[c&&Object(m.jsx)(y.a,{circular:!0,icon:"add",size:"large",onClick:function(){return n(!0)},color:"green"}),Object(m.jsx)(p.a,{as:"h2",style:{color:f},children:t}),I&&Object(m.jsx)("div",{className:"loadercontainer",children:Object(m.jsx)(v,{})}),!I&&(null===o||void 0===o?void 0:o.map((function(e){return Object(m.jsx)(M,Object(r.a)(Object(r.a)({},e),{},{user:c,product:e,handleDeleteProduct:F,handleChangeVisibility:B,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:O,setOpenImageModal:g,titleColor:f,textColor:C,productBackgroundColor:k}),e._id)})))]})}),S=(c(379),function(e){var t=e.titleColor,c=e.textColor,a=e.productBackgroundColor;return Object(m.jsxs)(x.a,{fluid:!0,className:"first",children:[Object(m.jsx)(O.a,{}),Object(m.jsx)(p.a,{as:"h1",style:{color:t},children:"Le Soft Napol\xe9on"}),Object(m.jsx)(O.a,{}),Object(m.jsx)("img",{src:"/assets/images/le-soft.jpg",alt:"le soft"}),Object(m.jsx)(O.a,{}),Object(m.jsx)(x.a,{style:{color:c,background:a},as:"p",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos quibusdam ipsum ut quia eaque, omnis earum dolore perferendis eligendi quod asperiores quidem? Eveniet, dolorem voluptatibus, cum eius doloribus beatae, veritatis laborum hic possimus quibusdam molestiae reiciendis eos fugiat amet quia?"})]})}),P=c(75),A=c(404),I=c(397),E=c(405),F=c(228),B=c(48),w=[{name:"Suggestions du Chef",slug:"suggestions",icon:B.d,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"chocolate","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Pizzas",slug:"pizzas",icon:B.e,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"firebrick","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Salades",slug:"salades",icon:B.f,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"green","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Viandes",slug:"viandes",icon:B.g,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Desserts",slug:"desserts",icon:B.b,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Boissons",slug:"boissons",icon:B.c,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"darkred","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cocktails",slug:"cocktails",icon:B.a,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"yellow","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Gauffres",slug:"gauffres",icon:B.h,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cr\xeapes",slug:"crepes",icon:B.h,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}}],z=function(e){var t=e.children,c=e.visible,a=e.setVisible,n=e.setCategorie;return Object(m.jsxs)(A.a.Pushable,{children:[Object(m.jsx)(A.a,{as:I.a,direction:"left",animation:"overlay",icon:"labeled",onHide:function(){return a(!1)},inverted:!0,vertical:!0,visible:c,width:"thin",children:w.map((function(e){return Object(m.jsx)(P.b,{to:"/".concat(e.slug),onClick:function(){return n(e)},children:Object(m.jsxs)(I.a.Item,{children:[Object(m.jsx)(I.a.Header,{children:Object(m.jsx)(F.a,{size:"4x",style:e.style,icon:e.icon})}),e.name]})},e.slug)}))}),Object(m.jsx)(A.a.Pusher,{dimmed:c,children:Object(m.jsx)(E.a,{basic:!0,children:t})})]})},L=(c(382),function(e){var t=e.setVisible,c=e.setOpenLoginModal,a=e.user;return Object(m.jsxs)(x.a,{className:"topappbar",children:[Object(m.jsx)(P.b,{to:"/",children:Object(m.jsx)(p.a,{as:"h1",children:Object(m.jsx)(v,{})})}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(u.a,{animation:"fade",duration:3e3,visible:!!a,children:Object(m.jsx)(P.b,{to:"/le-soft/admin",children:Object(m.jsx)(y.a,{color:"olive",icon:"settings",circular:!0})})}),Object(m.jsx)(y.a,{circular:!0,icon:"user",color:a?"blue":"grey",onClick:function(){return c(!0)}}),Object(m.jsx)(y.a,{onClick:function(){return t(!0)},circular:!0,icon:"bars",color:"teal"})]})]})}),N=c(399),D=c(396),U=c(407),V=[{id:1,name:"arachides",value:"Arachides"},{id:2,name:"fruits \xe0 coque",value:"Fruits \xe0 coque"},{id:3,name:"crustac\xe9s",value:"Crustac\xe9s"},{id:4,name:"gluten",value:"Gluten"},{id:5,name:"oeufs",value:"Oeufs"},{id:6,name:"poissons",value:"Poissons"},{id:7,name:"soja",value:"Soja"},{id:8,name:"lait",value:"Lait"},{id:9,name:"celeri",value:"C\xe9leri"},{id:10,name:"moutarde",value:"Moutarde"},{id:11,name:"sesame",value:"Sesame"},{id:12,name:"lupins",value:"Lupins"},{id:13,name:"mollusques",value:"Mollusques"}],q=function(e){var t=e.slug,c=e.setOpenAddProductModal,n=e.openAddProductModal,o=e.setOpenLoginModal,s=e.setProducts,d=e.setAppMessage,u=Object(a.useState)({title:"",description:"",price:"",category:"",image:"",tag:[]}),j=Object(i.a)(u,2),b=j[0],O=j[1],f=Object(a.useState)(!1),x=Object(i.a)(f,2),v=x[0],C=x[1],M=Object(a.useRef)(null);Object(a.useEffect)((function(){O(Object(r.a)(Object(r.a)({},b),{},{category:t})),O(Object(r.a)(Object(r.a)({},b),{},{tag:[]}))}),[t]);var k=function(e){var t={};t[e.target.name]=e.target.value,O(Object(r.a)(Object(r.a)({},b),t))},S=localStorage.getItem("token-le-Soft");return Object(m.jsxs)(N.a,{onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:n,size:"small",children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"add"}),"Ajouter un Produit"]}),Object(m.jsx)(N.a.Content,{children:Object(m.jsxs)(D.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("title",b.title),t.append("description",b.description||""),t.append("price",b.price),t.append("category",b.category),t.append("tag",b.tag),t.append("image",b.image),S?(C(!0),l()({method:"post",url:"".concat(h,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+S}}).then((function(e){s(e.data.data),d({success:200===e.data.status,message:e.data.message})})).then((function(){O({title:"",description:"",price:"",category:"",image:"",tag:[]}),c(!1)})).catch((function(e){return console.log(e)})).finally((function(){C(!1)}))):o(!0)},id:"addProduct-form",children:[Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Nom du Produit"}),Object(m.jsx)("input",{value:b.title,name:"title",type:"text",onChange:function(e){return k(e)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Description"}),Object(m.jsx)("textarea",{value:b.description,name:"description",rows:"5",cols:"33",onChange:function(e){return k(e)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Allerg\xe8nes"}),V.map((function(e){var t;return Object(m.jsx)(U.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(){return function(e,t){var c=b.tag,a=c.indexOf(t);a>-1?c.splice(a,1):c.push(t),O(Object(r.a)(Object(r.a)({},b),{},{tag:c}))}(e.id,e.value)},selected:null===(t=b.tag)||void 0===t?void 0:t.includes(e.value)},e.id)}))]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Prix"}),Object(m.jsx)("input",{min:1,step:.1,value:b.price,name:"price",type:"number",onChange:function(e){return k(e)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Cat\xe9gorie"}),Object(m.jsxs)("select",{value:b.category,name:"category",onChange:function(e){return k(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(m.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),w.map((function(e){return Object(m.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("input",{ref:M,accept:"image/*",id:"addImage",files:b.image,type:"file",hidden:!0,onChange:function(e){return function(e){O(Object(r.a)(Object(r.a)({},b),{},{image:e.target.files[0]}))}(e)}}),Object(m.jsx)(y.a,{type:"button",onClick:function(){return M.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(m.jsxs)(N.a.Actions,{children:[Object(m.jsxs)(y.a,{color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(m.jsx)(g.a,{name:"add"})," Ajouter"]}),Object(m.jsxs)(y.a,{loading:v,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return c(!1)},children:[Object(m.jsx)(g.a,{name:"remove"})," Annuler"]})]})]})},T=function(e){var t=e.setOpenLoginModal,c=e.openLoginModal,n=e.setUser,o=e.setAppMessage,r=Object(a.useState)(""),s=Object(i.a)(r,2),d=s[0],u=s[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),O=b[0],f=b[1],x=Object(a.useState)(!1),v=Object(i.a)(x,2),C=v[0],M=v[1];return Object(m.jsxs)(N.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:c,size:"small",children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"user"}),"Se Connecter"]}),Object(m.jsx)(N.a.Content,{children:Object(m.jsxs)(D.a,{onSubmit:function(e){e.preventDefault(),M(!0),l()({method:"post",url:"".concat(h,"/auth/login"),data:{email:d,password:O}}).then((function(e){n(e.data.role),o({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-le-Soft",e.data.token),t(!1)})).catch((function(e){o({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){M(!1)}))},id:"auth-form",children:[Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"E-Mail"}),Object(m.jsx)("input",{value:d,type:"email",onChange:function(e){return u(e.target.value)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Mot de passe"}),Object(m.jsx)("input",{type:"password",value:O,onChange:function(e){return f(e.target.value)}})]})]})}),Object(m.jsx)(N.a.Actions,{children:Object(m.jsxs)(y.a,{color:"green",loading:C,type:"submit",form:"auth-form",disabled:0===d.length||0===O.length,inverted:!0,children:[Object(m.jsx)(g.a,{name:"checkmark"})," Connexion"]})})]})},_=function(e){var t=e.product,c=e.setOpenEditProductModal,n=e.openEditProductModal,o=e.setOpenLoginModal,s=e.setAppMessage,d=e.setProducts,u=t._id,j=t.title,b=t.description,O=t.price,f=t.tag,x=t.category,v=t.image,C=Object(a.useState)({title:j,description:b,price:O,category:x,image:v,tag:f}),M=Object(i.a)(C,2),k=M[0],S=M[1],P=Object(a.useState)(!1),A=Object(i.a)(P,2),I=A[0],E=A[1];Object(a.useEffect)((function(){S(Object(r.a)({},t))}),[t]);var F=function(e){var t={};t[e.target.name]=e.target.value,S(Object(r.a)(Object(r.a)({},k),t))},B=localStorage.getItem("token-le-Soft");return Object(m.jsxs)(N.a,{onClose:function(){return c(!1)},onOpen:function(){return c(!0)},open:n,size:"small",children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"edit"}),"\xc9diter ",j]}),Object(m.jsx)(N.a.Content,{children:Object(m.jsxs)(D.a,{onSubmit:function(e){e.preventDefault(),B?(E(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProduct"),data:{update:k,productId:u,productCategory:x},headers:{Authorization:"Bearer "+B}}).then((function(e){d(e.data.data),s({success:200===e.data.status,message:e.data.message})})).catch((function(e){return console.log(e)})).finally((function(){E(!1),c(!1)}))):(c(!1),o(!0))},id:"addProduct-form",children:[Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Nom du Produit"}),Object(m.jsx)("input",{value:k.title,name:"title",type:"text",onChange:function(e){return F(e)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Description"}),Object(m.jsx)("textarea",{value:k.description,name:"description",rows:"5",cols:"33",onChange:function(e){return F(e)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Allerg\xe8nes"}),V.map((function(e){var c,a;return Object(m.jsx)(U.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(c){return function(e,c){var a=t.tag,n=a.indexOf(e);n>-1?a.splice(n,1):a.push(e),S(Object(r.a)(Object(r.a)({},k),{},{tag:a}))}(e.value)},selected:null===(c=k.tag)||void 0===c?void 0:c.includes(e.value),checked:null===(a=k.tag)||void 0===a?void 0:a.includes(e.value)},e.id)}))]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Prix"}),Object(m.jsx)("input",{min:1,step:.1,value:k.price,name:"price",type:"number",onChange:function(e){return F(e)}})]}),Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("label",{children:"Cat\xe9gorie"}),Object(m.jsxs)("select",{value:k.category,name:"category",onChange:function(e){return F(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(m.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),w.map((function(e){return Object(m.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]})]})}),Object(m.jsxs)(N.a.Actions,{children:[Object(m.jsxs)(y.a,{color:"purple",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(m.jsx)(g.a,{name:"edit"})," Editer"]}),Object(m.jsxs)(y.a,{loading:I,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return c(!1)},children:[Object(m.jsx)(g.a,{name:"remove"})," Annuler"]})]})]})},G=function(e){var t,c=e.openImageModal,a=e.setOpenImageModal,n=e.product,o=n.image,r=n.title,i="data:".concat(null===o||void 0===o?void 0:o.contentType,";base64,"),s=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data);return Object(m.jsxs)(N.a,{closeIcon:!0,open:c,onClose:function(){return a(!1)},children:[Object(m.jsx)(p.a,{children:r}),Object(m.jsx)(N.a.Content,{children:Object(m.jsx)("img",{style:{width:"100%"},src:i+s,alt:r})})]})},H=function(e){var t=e.openUpdateImageModal,c=e.setOpenUpdateImageModal,n=e.product,o=e.setProducts,r=e.setOpenLoginModal,s=e.setAppMessage,d=Object(a.useState)(""),u=Object(i.a)(d,2),j=u[0],b=u[1],O=Object(a.useState)(!1),f=Object(i.a)(O,2),x=f[0],v=f[1],C=Object(a.useRef)(null),M=n._id,k=n.category,S=n.title;return Object(m.jsxs)(N.a,{open:t,onClose:function(){return c(!1)},children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"image"}),"Editer l'image"]}),Object(m.jsx)(N.a.Content,{children:Object(m.jsx)(D.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",j);var a=localStorage.getItem("token-le-Soft");a?(v(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProductImage/").concat(M,"/").concat(k),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+a}}).then((function(e){e&&200===e.data.status?(o(e.data.data),s(e.data.message)):s(e.data.message)})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))):(c(!1),r(!0))},id:"editImage-form",children:Object(m.jsxs)(D.a.Field,{children:[Object(m.jsx)("input",{ref:C,accept:"image/*",id:"addImage",files:j,type:"file",hidden:!0,onChange:function(e){return b(e.target.files[0])}}),Object(m.jsx)(y.a,{type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(m.jsxs)(N.a.Actions,{children:[j&&Object(m.jsxs)(y.a,{color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(m.jsx)(g.a,{name:"add"})," Envoyer l'image pour ",S]}),Object(m.jsxs)(y.a,{loading:x,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return c(!1)},children:[Object(m.jsx)(g.a,{name:"remove"})," Annuler"]})]})]})},J=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)({}),s=Object(i.a)(o,2),b=s[0],p=s[1],O=Object(a.useState)(!1),g=Object(i.a)(O,2),x=g[0],y=g[1],C=Object(a.useState)(!1),M=Object(i.a)(C,2),P=M[0],A=M[1],I=Object(a.useState)(!1),E=Object(i.a)(I,2),F=E[0],B=E[1],w=Object(a.useState)(!1),N=Object(i.a)(w,2),D=N[0],U=N[1],V=Object(a.useState)(!1),J=Object(i.a)(V,2),R=J[0],Q=J[1],K=Object(a.useState)(""),W=Object(i.a)(K,2),X=W[0],Y=W[1],Z=Object(a.useState)({}),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ce=Object(a.useState)([]),ae=Object(i.a)(ce,2),ne=ae[0],oe=ae[1],re=Object(a.useState)({}),ie=Object(i.a)(re,2),se=ie[0],le=ie[1],de=Object(a.useState)(""),ue=Object(i.a)(de,2),je=ue[0],be=ue[1],pe=Object(a.useState)(""),Oe=Object(i.a)(pe,2),ge=Oe[0],he=Oe[1],me=Object(a.useState)(""),fe=Object(i.a)(me,2),xe=fe[0],ye=fe[1],ve=Object(a.useState)(""),Ce=Object(i.a)(ve,2),Me=Ce[0],ke=Ce[1],Se=Object(a.useState)({}),Pe=Object(i.a)(Se,2),Ae=Pe[0],Ie=Pe[1],Ee=Object(a.useState)(!0),Fe=Object(i.a)(Ee,2),Be=Fe[0],we=Fe[1];return Object(a.useEffect)((function(){setTimeout((function(){te({})}),5e3)}),[ee]),Object(a.useEffect)((function(){we(!0),l.a.get("".concat(h,"/api/config")).then((function(e){Ie(e.data.config)})).catch((function(e){return console.log(e)})).finally((function(){return we(!1)}))}),[]),Object(a.useEffect)((function(){be(Ae.titleColor),he(Ae.textColor),ye(Ae.backgroundColor),ke(Ae.productBackgroundColor)}),[Ae]),Object(m.jsxs)("div",{style:{height:"100%",background:xe},children:[Be&&Object(m.jsx)("div",{className:"loadercontainer",children:Object(m.jsx)(v,{})}),!Be&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{animation:"jiggle",duration:500,visible:Object.keys(ee).length>0,children:Object(m.jsx)(j.a,{hidden:0===Object.keys(ee).length,success:!!ee.success,error:!ee.success,children:ee.message})}),Object(m.jsxs)(z,{visible:c,setVisible:n,setCategorie:p,children:[Object(m.jsx)(L,{user:X,setVisible:n,setOpenLoginModal:y}),Object(m.jsx)(T,{openLoginModal:x,setOpenLoginModal:y,setUser:Y,setAppMessage:te}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(S,{user:X,titleColor:je,textColor:ge,productBackgroundColor:Me})}),Object(m.jsx)(d.b,{exact:!0,path:"/le-soft/admin",children:"isAdmin"===X?Object(m.jsx)(f,{titleColor:je,setTitleColor:be,textColor:ge,setTextColor:he,backgroundColor:xe,setBackgroundColor:ye,productBackgroundColor:Me,setProductBackgroundColor:ke,colorConfig:Ae,setColorConfig:Ie}):Object(m.jsx)(d.a,{to:"/"})}),Object(m.jsxs)(d.b,{path:"/:categorie",children:[Object(m.jsx)(q,Object(r.a)(Object(r.a)({},b),{},{openAddProductModal:P,setOpenAddProductModal:A,setOpenLoginModal:y,setAppMessage:te,setProducts:oe})),Object(m.jsx)(_,{openEditProductModal:F,setOpenEditProductModal:B,setOpenLoginModal:y,setAppMessage:te,setProducts:oe,product:se}),Object(m.jsx)(H,{openUpdateImageModal:D,setOpenUpdateImageModal:U,product:se,setProducts:oe,setOpenLoginModal:y,setAppMessage:te}),Object(m.jsx)(G,{setOpenImageModal:Q,openImageModal:R,product:se}),Object(m.jsx)(k,Object(r.a)(Object(r.a)({},b),{},{products:ne,user:X,setOpenAddProductModal:A,setOpenEditProductModal:B,setOpenUpdateImageModal:U,setOpenImageModal:Q,setOpenLoginModal:y,setProducts:oe,setSelectedProduct:le,titleColor:je,textColor:ge,productBackgroundColor:Me}))]})]})]})]})]})},R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,408)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),o(e),r(e)}))};c(383);o.a.render(Object(m.jsx)(P.a,{children:Object(m.jsx)(J,{})}),document.getElementById("root")),R()}},[[384,1,2]]]);
//# sourceMappingURL=main.ee61f352.chunk.js.map