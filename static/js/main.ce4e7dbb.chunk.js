(this["webpackJsonple-soft"]=this["webpackJsonple-soft"]||[]).push([[0],{244:function(e,t,a){},370:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},379:function(e,t,a){},382:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(74),o=a.n(n),r=(a(244),a(12)),i=a(11),s=a(25),l=a.n(s),d=a(13),u=a(398),j=a(400),b=a(111),p=a(402),O=a(394),g=a(103),h="https://le-soft.herokuapp.com",m=(a(370),a(1)),f=function(e){var t=e.titleColor,a=e.setTitleColor,n=e.textColor,o=e.setTextColor,i=e.backgroundColor,s=e.setBackgroundColor,d=e.productBackgroundColor,u=e.setProductBackgroundColor,j=e.colorConfig,f=e.setColorConfig;return Object(c.useEffect)((function(){var e=localStorage.getItem("token-le-Soft"),a={_id:j._id,titleColor:t,textColor:n,backgroundColor:i,productBackgroundColor:d};f(Object(r.a)({},a)),l()({method:"post",url:"".concat(h,"/api/config/update"),data:{update:a},headers:{Authorization:"Bearer "+e}})}),[t,n,i,d]),Object(m.jsxs)("div",{className:"admin",style:{background:i},children:[Object(m.jsx)(p.a,{as:"h2",style:{color:t},children:"Couleur des titres de Section"}),Object(m.jsx)(b.a,{color:t,onChangeComplete:function(e){return a(e.hex)}}),Object(m.jsx)(O.a,{}),Object(m.jsx)("p",{style:{color:n},children:"Couleur des textes"}),Object(m.jsx)(b.a,{color:n,onChangeComplete:function(e){return o(e.hex)}}),Object(m.jsx)(O.a,{}),Object(m.jsx)("div",{style:{height:50,width:200,background:i,border:"1px solid black"}}),Object(m.jsx)("p",{children:"Couleur du fond"}),Object(m.jsx)(b.a,{color:i,onChangeComplete:function(e){return s(e.hex)}}),Object(m.jsx)(O.a,{}),Object(m.jsx)(p.a,{as:"h3",children:"Changez la Couleur de fond des produits"}),Object(m.jsxs)("div",{className:"product",style:{background:d},children:[Object(m.jsxs)("header",{children:[Object(m.jsxs)("h3",{style:{color:t},children:[" ","Titre",Object(m.jsx)(g.a,{style:{color:n},name:"search"})]}),Object(m.jsxs)("span",{style:{color:t},children:[99999," ",Object(m.jsx)("small",{children:"\u20ac"})]})]}),Object(m.jsxs)("main",{children:[Object(m.jsx)("p",{style:{color:n},children:"lorem ipsum dolor sit amet...."}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{style:{color:t},children:"Allerg\xe8nes :"})," ",Object(m.jsx)("span",{style:{color:n},children:"Arachides"}),Object(m.jsx)("span",{style:{color:n},children:"Fruits \xe0 coques"}),Object(m.jsx)("span",{style:{color:n},children:"Soja"}),Object(m.jsx)("span",{style:{color:n},children:"...."})]})]})]}),Object(m.jsx)(b.a,{color:d,onChangeComplete:function(e){return u(e.hex)}})]})},x=a(395),y=a(401),v=(a(375),function(){return Object(m.jsxs)("div",{className:"loader",children:[Object(m.jsx)("span",{children:"L"}),Object(m.jsx)("span",{children:"E"}),Object(m.jsx)("span",{children:"\xa0"}),Object(m.jsx)("span",{children:"S"}),Object(m.jsx)("span",{children:"O"}),Object(m.jsx)("span",{children:"F"}),Object(m.jsx)("span",{children:"T"})]})}),C=function(e){var t=e.visibility,a=e._id,c=e.category,n=e.product,o=e.handleDeleteProduct,r=e.handleChangeVisibility,i=e.setSelectedProduct,s=e.setOpenEditProductModal,l=e.setOpenUpdateImageModal;return Object(m.jsxs)("div",{className:"adminbuttons",children:[Object(m.jsx)(y.a,{circular:!0,icon:"remove",size:"large",color:"red",onClick:function(){return o(a,c)}}),Object(m.jsx)(y.a,{circular:!0,icon:"edit",size:"large",color:"purple",onClick:function(){i(n),s(!0)}}),Object(m.jsx)(y.a,{circular:!0,icon:t?"hide":"unhide",size:"large",onClick:function(){return r(n)}}),Object(m.jsx)(y.a,{circular:!0,icon:"image",size:"large",color:"yellow",onClick:function(){i(n),l(!0)}})]})},M=(a(376),function(e){var t=e.title,a=e.tag,c=e.price,n=e.image,o=e.description,i=e.visibility,s=e.user,l=e.product,d=e.handleDeleteProduct,u=e.handleChangeVisibility,j=e.setSelectedProduct,b=e.setOpenEditProductModal,O=e.setOpenUpdateImageModal,h=e.setOpenImageModal,f=e.titleColor,x=e.textColor,y=e.productBackgroundColor;return Object(m.jsxs)("div",{className:"product",style:{backgroundColor:y},children:[s&&Object(m.jsx)(C,Object(r.a)(Object(r.a)({},l),{},{product:l,handleDeleteProduct:d,handleChangeVisibility:u,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:O})),Object(m.jsxs)("header",{children:[Object(m.jsxs)(p.a,{className:"intitule",as:"h2",style:{color:f},children:[(i?"":"Cach\xe9 : ")+t," ",n&&Object(m.jsx)(g.a,{style:{color:x},onClick:function(){j(l),h(!0)},name:"search"})]}),Object(m.jsxs)("span",{className:"price",style:{color:f},children:[c.toFixed(2)," ",Object(m.jsx)("small",{children:"\u20ac"})]})]}),Object(m.jsxs)("main",{children:[Object(m.jsx)("p",{className:"description",style:{color:x},children:o}),a[1]&&Object(m.jsxs)("p",{className:"allergenes",children:[Object(m.jsx)("strong",{style:{color:f},children:"Allerg\xe8nes :"})," ",a.map((function(e){return Object(m.jsx)("span",{className:"allergene",style:{color:x},children:" ".concat(e," ")},e)}))]})]})]})}),k=(a(377),function(e){var t=e.name,a=e.user,n=e.setOpenAddProductModal,o=e.products,s=e.setProducts,u=e.setOpenLoginModal,j=e.setSelectedProduct,b=e.setOpenEditProductModal,O=e.setOpenUpdateImageModal,g=e.setOpenImageModal,f=e.titleColor,C=e.textColor,k=e.productBackgroundColor,S=Object(d.g)("categorie").categorie,P=Object(c.useState)(!1),A=Object(i.a)(P,2),I=A[0],E=A[1];Object(c.useEffect)((function(){E(!0),l()({method:"get",url:"".concat(h,"/api/products/").concat(S)}).then((function(e){s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return E(!1)}))}),[S]);var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,a=localStorage.getItem("token-le-Soft");a?(E(!0),l()({method:"delete",url:"".concat(h,"/api/products/deleteProduct"),data:{productId:e,productCategory:t},headers:{Authorization:"Bearer "+a}}).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return E(!1)}))):u(!0)},B=function(e){var t=Object(r.a)({},e);t.visibility=!e.visibility;var a=localStorage.getItem("token-le-Soft");a?(E(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProduct"),data:{update:t,productId:e._id,productCategory:e.category},headers:{Authorization:"Bearer "+a}}).then((function(e){return s(e.data.data)})).catch((function(e){return console.log(e)})).finally((function(){return E(!1)}))):u(!0)};return Object(m.jsxs)(x.a,{className:"categorie",children:[a&&Object(m.jsx)(y.a,{circular:!0,icon:"add",size:"large",onClick:function(){return n(!0)},color:"green"}),Object(m.jsx)(p.a,{as:"h2",style:{color:f},children:t}),I&&Object(m.jsx)("div",{className:"loadercontainer",children:Object(m.jsx)(v,{})}),!I&&(null===o||void 0===o?void 0:o.map((function(e){return Object(m.jsx)(M,Object(r.a)(Object(r.a)({},e),{},{user:a,product:e,handleDeleteProduct:F,handleChangeVisibility:B,setSelectedProduct:j,setOpenEditProductModal:b,setOpenUpdateImageModal:O,setOpenImageModal:g,titleColor:f,textColor:C,productBackgroundColor:k}),e._id)})))]})}),S=(a(379),a.p+"static/media/le-soft.a2a08ea0.jpg"),P=function(e){var t=e.titleColor,a=e.textColor,c=e.productBackgroundColor;return Object(m.jsxs)(x.a,{fluid:!0,className:"first",children:[Object(m.jsx)(O.a,{}),Object(m.jsx)(p.a,{as:"h1",style:{color:t},children:"Le Soft Napol\xe9on"}),Object(m.jsx)(O.a,{}),Object(m.jsx)("img",{src:S,alt:"le soft"}),Object(m.jsx)(O.a,{}),Object(m.jsx)(x.a,{style:{color:a,background:c},as:"p",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos quibusdam ipsum ut quia eaque, omnis earum dolore perferendis eligendi quod asperiores quidem? Eveniet, dolorem voluptatibus, cum eius doloribus beatae, veritatis laborum hic possimus quibusdam molestiae reiciendis eos fugiat amet quia?"})]})},A=a(75),I=a(404),E=a(397),F=a(405),B=a(228),w=a(48),z=[{name:"Suggestions du Chef",slug:"suggestions",icon:w.d,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"chocolate","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Pizzas",slug:"pizzas",icon:w.e,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"firebrick","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Salades",slug:"salades",icon:w.f,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"green","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Viandes",slug:"viandes",icon:w.g,innerMenu:[],style:{"--fa-primary-color":"firebrick","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Desserts",slug:"desserts",icon:w.b,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Boissons",slug:"boissons",icon:w.c,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"darkred","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cocktails",slug:"cocktails",icon:w.a,innerMenu:[],style:{"--fa-primary-color":"lightsteelblue","--fa-secondary-color":"yellow","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Gauffres",slug:"gauffres",icon:w.h,innerMenu:[],style:{"--fa-primary-color":"chocolate","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}},{name:"Cr\xeapes",slug:"crepes",icon:w.h,innerMenu:[],style:{"--fa-primary-color":"burlywood","--fa-secondary-color":"burlywood","--fa-primary-opacity":1,"--fa-secondary-opacity":1}}],L=function(e){var t=e.children,a=e.visible,c=e.setVisible,n=e.setCategorie;return Object(m.jsxs)(I.a.Pushable,{children:[Object(m.jsx)(I.a,{as:E.a,direction:"left",animation:"overlay",icon:"labeled",onHide:function(){return c(!1)},inverted:!0,vertical:!0,visible:a,width:"thin",children:z.map((function(e){return Object(m.jsx)(A.b,{to:"/".concat(e.slug),onClick:function(){return n(e)},children:Object(m.jsxs)(E.a.Item,{children:[Object(m.jsx)(E.a.Header,{children:Object(m.jsx)(B.a,{size:"4x",style:e.style,icon:e.icon})}),e.name]})},e.slug)}))}),Object(m.jsx)(I.a.Pusher,{dimmed:a,children:Object(m.jsx)(F.a,{basic:!0,children:t})})]})},N=(a(382),function(e){var t=e.setVisible,a=e.setOpenLoginModal,c=e.user;return Object(m.jsxs)(x.a,{className:"topappbar",children:[Object(m.jsx)(A.b,{to:"/",children:Object(m.jsx)(p.a,{as:"h1",children:Object(m.jsx)(v,{})})}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)(u.a,{animation:"fade",duration:3e3,visible:!!c,children:Object(m.jsx)(A.b,{to:"/le-soft/admin",children:Object(m.jsx)(y.a,{color:"olive",icon:"settings",circular:!0})})}),Object(m.jsx)(y.a,{circular:!0,icon:"user",color:c?"blue":"grey",onClick:function(){return a(!0)}}),Object(m.jsx)(y.a,{onClick:function(){return t(!0)},circular:!0,icon:"bars",color:"teal"})]})]})}),D=a(399),U=a(396),V=a(407),q=[{id:1,name:"arachides",value:"Arachides"},{id:2,name:"fruits \xe0 coque",value:"Fruits \xe0 coque"},{id:3,name:"crustac\xe9s",value:"Crustac\xe9s"},{id:4,name:"gluten",value:"Gluten"},{id:5,name:"oeufs",value:"Oeufs"},{id:6,name:"poissons",value:"Poissons"},{id:7,name:"soja",value:"Soja"},{id:8,name:"lait",value:"Lait"},{id:9,name:"celeri",value:"C\xe9leri"},{id:10,name:"moutarde",value:"Moutarde"},{id:11,name:"sesame",value:"Sesame"},{id:12,name:"lupins",value:"Lupins"},{id:13,name:"mollusques",value:"Mollusques"}],T=function(e){var t=e.slug,a=e.setOpenAddProductModal,n=e.openAddProductModal,o=e.setOpenLoginModal,s=e.setProducts,d=e.setAppMessage,u=Object(c.useState)({title:"",description:"",price:"",category:"",image:"",tag:[]}),j=Object(i.a)(u,2),b=j[0],O=j[1],f=Object(c.useState)(!1),x=Object(i.a)(f,2),v=x[0],C=x[1],M=Object(c.useRef)(null);Object(c.useEffect)((function(){O(Object(r.a)(Object(r.a)({},b),{},{category:t})),O(Object(r.a)(Object(r.a)({},b),{},{tag:[]}))}),[t]);var k=function(e){var t={};t[e.target.name]=e.target.value,O(Object(r.a)(Object(r.a)({},b),t))},S=localStorage.getItem("token-le-Soft");return Object(m.jsxs)(D.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:n,size:"small",children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"add"}),"Ajouter un Produit"]}),Object(m.jsx)(D.a.Content,{children:Object(m.jsxs)(U.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("title",b.title),t.append("description",b.description||""),t.append("price",b.price),t.append("category",b.category),t.append("tag",b.tag),t.append("image",b.image),S?(C(!0),l()({method:"post",url:"".concat(h,"/api/products/createProduct"),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+S}}).then((function(e){s(e.data.data),d({success:200===e.data.status,message:e.data.message})})).then((function(){O({title:"",description:"",price:"",category:"",image:"",tag:[]}),a(!1)})).catch((function(e){return console.log(e)})).finally((function(){C(!1)}))):o(!0)},id:"addProduct-form",children:[Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Nom du Produit"}),Object(m.jsx)("input",{value:b.title,name:"title",type:"text",onChange:function(e){return k(e)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Description"}),Object(m.jsx)("textarea",{value:b.description,name:"description",rows:"5",cols:"33",onChange:function(e){return k(e)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Allerg\xe8nes"}),q.map((function(e){var t;return Object(m.jsx)(V.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(){return function(e,t){var a=b.tag,c=a.indexOf(t);c>-1?a.splice(c,1):a.push(t),O(Object(r.a)(Object(r.a)({},b),{},{tag:a}))}(e.id,e.value)},selected:null===(t=b.tag)||void 0===t?void 0:t.includes(e.value)},e.id)}))]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Prix"}),Object(m.jsx)("input",{min:1,step:.1,value:b.price,name:"price",type:"number",onChange:function(e){return k(e)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Cat\xe9gorie"}),Object(m.jsxs)("select",{value:b.category,name:"category",onChange:function(e){return k(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(m.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),z.map((function(e){return Object(m.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("input",{ref:M,accept:"image/*",id:"addImage",files:b.image,type:"file",hidden:!0,onChange:function(e){return function(e){O(Object(r.a)(Object(r.a)({},b),{},{image:e.target.files[0]}))}(e)}}),Object(m.jsx)(y.a,{type:"button",onClick:function(){return M.current.click()},color:"orange",inverted:!0,children:"Ajouter une image"})]})]})}),Object(m.jsxs)(D.a.Actions,{children:[Object(m.jsxs)(y.a,{color:"green",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(m.jsx)(g.a,{name:"add"})," Ajouter"]}),Object(m.jsxs)(y.a,{loading:v,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(m.jsx)(g.a,{name:"remove"})," Annuler"]})]})]})},_=function(e){var t=e.setOpenLoginModal,a=e.openLoginModal,n=e.setUser,o=e.setAppMessage,r=Object(c.useState)(""),s=Object(i.a)(r,2),d=s[0],u=s[1],j=Object(c.useState)(""),b=Object(i.a)(j,2),O=b[0],f=b[1],x=Object(c.useState)(!1),v=Object(i.a)(x,2),C=v[0],M=v[1];return Object(m.jsxs)(D.a,{onClose:function(){return t(!1)},onOpen:function(){return t(!0)},open:a,size:"small",children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"user"}),"Se Connecter"]}),Object(m.jsx)(D.a.Content,{children:Object(m.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),M(!0),l()({method:"post",url:"".concat(h,"/auth/login"),data:{email:d,password:O}}).then((function(e){n(e.data.role),o({success:200===e.data.status,message:e.data.message}),localStorage.setItem("token-le-Soft",e.data.token),t(!1)})).catch((function(e){o({success:!1,message:"il y a eu un probl\xe9me durant la connexion"})})).finally((function(){M(!1)}))},id:"auth-form",children:[Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"E-Mail"}),Object(m.jsx)("input",{value:d,type:"email",onChange:function(e){return u(e.target.value)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Mot de passe"}),Object(m.jsx)("input",{type:"password",value:O,onChange:function(e){return f(e.target.value)}})]})]})}),Object(m.jsx)(D.a.Actions,{children:Object(m.jsxs)(y.a,{color:"green",loading:C,type:"submit",form:"auth-form",disabled:0===d.length||0===O.length,inverted:!0,children:[Object(m.jsx)(g.a,{name:"checkmark"})," Connexion"]})})]})},G=function(e){var t=e.product,a=e.setOpenEditProductModal,n=e.openEditProductModal,o=e.setOpenLoginModal,s=e.setAppMessage,d=e.setProducts,u=t._id,j=t.title,b=t.description,O=t.price,f=t.tag,x=t.category,v=t.image,C=Object(c.useState)({title:j,description:b,price:O,category:x,image:v,tag:f}),M=Object(i.a)(C,2),k=M[0],S=M[1],P=Object(c.useState)(!1),A=Object(i.a)(P,2),I=A[0],E=A[1];Object(c.useEffect)((function(){S(Object(r.a)({},t))}),[t]);var F=function(e){var t={};t[e.target.name]=e.target.value,S(Object(r.a)(Object(r.a)({},k),t))},B=localStorage.getItem("token-le-Soft");return Object(m.jsxs)(D.a,{onClose:function(){return a(!1)},onOpen:function(){return a(!0)},open:n,size:"small",children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"edit"}),"\xc9diter ",j]}),Object(m.jsx)(D.a.Content,{children:Object(m.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),B?(E(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProduct"),data:{update:k,productId:u,productCategory:x},headers:{Authorization:"Bearer "+B}}).then((function(e){d(e.data.data),s({success:200===e.data.status,message:e.data.message})})).catch((function(e){return console.log(e)})).finally((function(){E(!1),a(!1)}))):(a(!1),o(!0))},id:"addProduct-form",children:[Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Nom du Produit"}),Object(m.jsx)("input",{value:k.title,name:"title",type:"text",onChange:function(e){return F(e)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Description"}),Object(m.jsx)("textarea",{value:k.description,name:"description",rows:"5",cols:"33",onChange:function(e){return F(e)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Allerg\xe8nes"}),q.map((function(e){var a,c;return Object(m.jsx)(V.a,{style:{padding:5},label:e.value,name:e.name,value:e.value,onChange:function(a){return function(e,a){var c=t.tag,n=c.indexOf(e);n>-1?c.splice(n,1):c.push(e),S(Object(r.a)(Object(r.a)({},k),{},{tag:c}))}(e.value)},selected:null===(a=k.tag)||void 0===a?void 0:a.includes(e.value),checked:null===(c=k.tag)||void 0===c?void 0:c.includes(e.value)},e.id)}))]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Prix"}),Object(m.jsx)("input",{min:1,step:.1,value:k.price,name:"price",type:"number",onChange:function(e){return F(e)}})]}),Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("label",{children:"Cat\xe9gorie"}),Object(m.jsxs)("select",{value:k.category,name:"category",onChange:function(e){return F(e)},placeholder:"Veuiller Selectionner une cat\xe9gorie",children:[Object(m.jsx)("option",{value:"",children:"Veuillez selectioner une categorie"}),z.map((function(e){return Object(m.jsx)("option",{value:e.slug,children:e.name},e.slug)}))]})]})]})}),Object(m.jsxs)(D.a.Actions,{children:[Object(m.jsxs)(y.a,{color:"purple",type:"submit",form:"addProduct-form",inverted:!0,children:[Object(m.jsx)(g.a,{name:"edit"})," Editer"]}),Object(m.jsxs)(y.a,{loading:I,color:"red",type:"submit",form:"addProduct-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(m.jsx)(g.a,{name:"remove"})," Annuler"]})]})]})},H=function(e){var t,a=e.openImageModal,c=e.setOpenImageModal,n=e.product,o=n.image,r=n.title,i="data:".concat(null===o||void 0===o?void 0:o.contentType,";base64,"),s=function(e){var t="";return[].slice.call(new Uint8Array(e)).forEach((function(e){return t+=String.fromCharCode(e)})),window.btoa(t)}(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.data);return Object(m.jsxs)(D.a,{closeIcon:!0,open:a,onClose:function(){return c(!1)},children:[Object(m.jsx)(p.a,{children:r}),Object(m.jsx)(D.a.Content,{children:Object(m.jsx)("img",{style:{width:"100%"},src:i+s,alt:r})})]})},J=function(e){var t=e.openUpdateImageModal,a=e.setOpenUpdateImageModal,n=e.product,o=e.setProducts,r=e.setOpenLoginModal,s=e.setAppMessage,d=Object(c.useState)(""),u=Object(i.a)(d,2),j=u[0],b=u[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),x=f[0],v=f[1],C=Object(c.useRef)(null),M=n._id,k=n.category,S=n.title;return Object(m.jsxs)(D.a,{open:t,onClose:function(){return a(!1)},children:[Object(m.jsxs)(p.a,{icon:!0,children:[Object(m.jsx)(g.a,{name:"image"}),"Editer l'image"]}),Object(m.jsx)(D.a.Content,{children:Object(m.jsx)(U.a,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",j);var c=localStorage.getItem("token-le-Soft");c?(v(!0),l()({method:"post",url:"".concat(h,"/api/products/updateProductImage/").concat(M,"/").concat(k),data:t,headers:{"content-type":"multipart/form-data",Authorization:"Bearer "+c}}).then((function(e){e&&200===e.data.status?(o(e.data.data),s(e.data.message)):s(e.data.message)})).catch((function(e){return console.log(e)})).finally((function(){return v(!1)}))):(a(!1),r(!0))},id:"editImage-form",children:Object(m.jsxs)(U.a.Field,{children:[Object(m.jsx)("input",{ref:C,accept:"image/*",id:"addImage",files:j,type:"file",hidden:!0,onChange:function(e){return b(e.target.files[0])}}),Object(m.jsx)(y.a,{type:"button",onClick:function(){return C.current.click()},color:"orange",inverted:!0,children:"Modifier l'image"})]})})}),Object(m.jsxs)(D.a.Actions,{children:[j&&Object(m.jsxs)(y.a,{color:"green",type:"submit",form:"editImage-form",inverted:!0,children:[Object(m.jsx)(g.a,{name:"add"})," Envoyer l'image pour ",S]}),Object(m.jsxs)(y.a,{loading:x,color:"red",type:"submit",form:"editImage-form",inverted:!0,onClick:function(){return a(!1)},children:[Object(m.jsx)(g.a,{name:"remove"})," Annuler"]})]})]})},R=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)({}),s=Object(i.a)(o,2),b=s[0],p=s[1],O=Object(c.useState)(!1),g=Object(i.a)(O,2),x=g[0],y=g[1],C=Object(c.useState)(!1),M=Object(i.a)(C,2),S=M[0],A=M[1],I=Object(c.useState)(!1),E=Object(i.a)(I,2),F=E[0],B=E[1],w=Object(c.useState)(!1),z=Object(i.a)(w,2),D=z[0],U=z[1],V=Object(c.useState)(!1),q=Object(i.a)(V,2),R=q[0],Q=q[1],K=Object(c.useState)(""),W=Object(i.a)(K,2),X=W[0],Y=W[1],Z=Object(c.useState)({}),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(c.useState)([]),ce=Object(i.a)(ae,2),ne=ce[0],oe=ce[1],re=Object(c.useState)({}),ie=Object(i.a)(re,2),se=ie[0],le=ie[1],de=Object(c.useState)(""),ue=Object(i.a)(de,2),je=ue[0],be=ue[1],pe=Object(c.useState)(""),Oe=Object(i.a)(pe,2),ge=Oe[0],he=Oe[1],me=Object(c.useState)(""),fe=Object(i.a)(me,2),xe=fe[0],ye=fe[1],ve=Object(c.useState)(""),Ce=Object(i.a)(ve,2),Me=Ce[0],ke=Ce[1],Se=Object(c.useState)({}),Pe=Object(i.a)(Se,2),Ae=Pe[0],Ie=Pe[1],Ee=Object(c.useState)(!0),Fe=Object(i.a)(Ee,2),Be=Fe[0],we=Fe[1];return Object(c.useEffect)((function(){setTimeout((function(){te({})}),5e3)}),[ee]),Object(c.useEffect)((function(){we(!0),l.a.get("".concat(h,"/api/config")).then((function(e){Ie(e.data.config)})).catch((function(e){return console.log(e)})).finally((function(){return we(!1)}))}),[]),Object(c.useEffect)((function(){be(Ae.titleColor),he(Ae.textColor),ye(Ae.backgroundColor),ke(Ae.productBackgroundColor)}),[Ae]),Object(m.jsxs)("div",{style:{height:"100%",background:xe},children:[Be&&Object(m.jsx)("div",{className:"loadercontainer",children:Object(m.jsx)(v,{})}),!Be&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(u.a,{animation:"jiggle",duration:500,visible:Object.keys(ee).length>0,children:Object(m.jsx)(j.a,{hidden:0===Object.keys(ee).length,success:!!ee.success,error:!ee.success,children:ee.message})}),Object(m.jsxs)(L,{visible:a,setVisible:n,setCategorie:p,children:[Object(m.jsx)(N,{user:X,setVisible:n,setOpenLoginModal:y}),Object(m.jsx)(_,{openLoginModal:x,setOpenLoginModal:y,setUser:Y,setAppMessage:te}),Object(m.jsxs)(d.d,{children:[Object(m.jsx)(d.b,{exact:!0,path:"/",children:Object(m.jsx)(P,{user:X,titleColor:je,textColor:ge,productBackgroundColor:Me})}),Object(m.jsx)(d.b,{exact:!0,path:"/le-soft/admin",children:"isAdmin"===X?Object(m.jsx)(f,{titleColor:je,setTitleColor:be,textColor:ge,setTextColor:he,backgroundColor:xe,setBackgroundColor:ye,productBackgroundColor:Me,setProductBackgroundColor:ke,colorConfig:Ae,setColorConfig:Ie}):Object(m.jsx)(d.a,{to:"/"})}),Object(m.jsxs)(d.b,{path:"/:categorie",children:[Object(m.jsx)(T,Object(r.a)(Object(r.a)({},b),{},{openAddProductModal:S,setOpenAddProductModal:A,setOpenLoginModal:y,setAppMessage:te,setProducts:oe})),Object(m.jsx)(G,{openEditProductModal:F,setOpenEditProductModal:B,setOpenLoginModal:y,setAppMessage:te,setProducts:oe,product:se}),Object(m.jsx)(J,{openUpdateImageModal:D,setOpenUpdateImageModal:U,product:se,setProducts:oe,setOpenLoginModal:y,setAppMessage:te}),Object(m.jsx)(H,{setOpenImageModal:Q,openImageModal:R,product:se}),Object(m.jsx)(k,Object(r.a)(Object(r.a)({},b),{},{products:ne,user:X,setOpenAddProductModal:A,setOpenEditProductModal:B,setOpenUpdateImageModal:U,setOpenImageModal:Q,setOpenLoginModal:y,setProducts:oe,setSelectedProduct:le,titleColor:je,textColor:ge,productBackgroundColor:Me}))]})]})]})]})]})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,408)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),o(e),r(e)}))};a(383);o.a.render(Object(m.jsx)(A.a,{basename:"/",children:Object(m.jsx)(R,{})}),document.getElementById("root")),Q()}},[[384,1,2]]]);
//# sourceMappingURL=main.ce4e7dbb.chunk.js.map